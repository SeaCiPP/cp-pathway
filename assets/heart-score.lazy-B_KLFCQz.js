import{c as N,u as $,a as O,r as m,j as e,L as E}from"./index-dI7VNcNz.js";import{C as V}from"./Checkbox-CaQwXmkT.js";import{S as C}from"./SectionHeader-DRC6kAIY.js";import{r as Y}from"./riskStyles-DnKbyBVY.js";const K=N("/heart-score")({component:G});function G(){var R;const{formData:i,setFormData:y,resetFormData:W}=$(),T=O(),S=["Hypertension","Diabetes Mellitus","Obstructive CAD","Non-Obstructive CAD","Smoking History (>3mo Usage)","Hypercholesterolemia","Family History of CVD","Obesity (BMI > 30 kg/m2)","Peripheral Arterial Disease","History of Atherosclerotic Disease"],B=S.map(t=>{var o;return{label:t,checked:(o=i.riskFactors)==null?void 0:o.includes(t)}}),v=t=>{var g;const o=S[t];let r;(g=i.riskFactors)!=null&&g.includes(o)?r=i.riskFactors.filter(n=>n!==o):r=[...i.riskFactors||[],o],y(n=>({...n,riskFactors:r}))},d=((R=i.riskFactors)==null?void 0:R.length)||0,u=t=>{y(o=>({...o,history:t}))},L=()=>{y(t=>({...t,heartScoreCalculated:!0,heartScore:f})),T({to:"/acute-one"})},D=["Retrosternal pain or pressure","Radiation to jaw, left shoulder, or arms","Duration 5-15 minutes","Initiated by exercise, cold, or emotion","Perspiration during symptoms","Nausea or vomiting","Relief with nitrates within minutes","Patient recognizes symptoms as similar to previous cardiac event"],I=["Well localized pain","Sharp pain","Non-exertional pain","No diaphoresis","No nausea or vomiting","Reproducible with palpation"],[k,M]=m.useState(!1),[w,A]=m.useState(!1),F=({title:t,features:o,isExpanded:r,onToggle:g})=>{const n=r?o:o.slice(0,3);return e.jsxs("div",{onClick:g,style:{border:`2px solid ${r?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",marginBottom:"16px",overflow:"hidden",backgroundColor:r?"#f8f4ff":"#f0ebff",transition:"all 0.2s ease-in-out",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},children:[e.jsxs("div",{style:{padding:"16px 20px",backgroundColor:"transparent",fontSize:"1rem",fontWeight:"600",color:r?"#7B2CBF":"#333",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"all 0.2s ease-in-out",userSelect:"none"},children:[e.jsx("span",{children:t}),e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",border:`2px solid ${r?"#7B2CBF":"#ccc"}`,backgroundColor:r?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease-in-out"},children:e.jsx("span",{style:{fontSize:"0.7rem",color:r?"#fff":"#666",transform:r?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease-in-out",fontWeight:"bold"},children:"▼"})})]}),e.jsxs("div",{style:{maxHeight:r?"500px":"180px",overflow:"hidden",transition:"max-height 0.4s ease-in-out"},children:[r&&e.jsx("div",{style:{height:"1px",backgroundColor:"#7B2CBF",margin:"0 20px",opacity:.3}}),e.jsxs("div",{style:{padding:"16px 20px",paddingTop:"16px",paddingBottom:"20px"},children:[n.map((P,H)=>e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:H===n.length-1?0:"12px",fontSize:"0.9rem",lineHeight:"1.4",color:"#555"},children:[e.jsx("span",{style:{color:"#7B2CBF",marginRight:"12px",marginTop:"2px",fontSize:"0.8rem",fontWeight:"bold"},children:"•"}),e.jsx("span",{children:P})]},H)),!r&&o.length>3&&e.jsx("div",{style:{marginTop:"16px",textAlign:"center"},children:e.jsx("span",{style:{color:"#7B2CBF",fontSize:"0.75rem",fontWeight:"400",fontStyle:"italic"},children:"Read More"})})]})]})]})};let c=0;i.history=="Low"?c=0:i.history=="Medium"?c=1:i.history=="High"&&(c=2);let p=0;i.ecg==="Option 1: Normal ECG"?p=0:i.ecg==="Option 2: Non-specific repolarization abnormalities"?p=1:i.ecg==="Option 3: ST segment depressions (not due to LBBB/LVH)"&&(p=2);let x=0;i.age<45?x=0:i.age>=45&&i.age<=60?x=1:i.age>60&&(x=2);let h=0;d==0?h=0:d==1||d==2?h=1:d>=3&&(h=2);let l=0,s;i.tropType==="hs"?(l=0,s="N/A"):(s=Math.max(i.tropZero,i.tropThree),s<.04?l=0:s>=.04&&s<=.08?l=1:s>=.08&&(l=2));let f=c+p+x+h+l,b="moderate";f<4?b="low":f>=7&&(b="high");const a=Y[b],j=m.useRef(null);return m.useEffect(()=>{j.current&&j.current.scrollIntoView({behavior:"smooth"})},[]),e.jsx("div",{style:{minHeight:"100vh",background:"#fafbfc",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"32px 0"},children:e.jsxs("div",{style:{background:"#fff",maxWidth:420,width:"100%",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.07)",padding:32,margin:"0 8px"},children:[e.jsx("header",{className:"header",style:{marginBottom:32},children:e.jsx(E,{to:"/",onClick:W,style:{display:"block",background:"#ede6ee",borderRadius:2,padding:"8px 16px",textDecoration:"none",color:"#111"},children:e.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:700,marginBottom:0,color:"#111"},children:"SCiPP Chest Pain Pathway"})})}),e.jsxs("div",{ref:j,children:[e.jsx(C,{children:"HEART Score Calculation"}),(i.age||i.tropType==="it"&&s&&s!=="N/A")&&e.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"12px",padding:"16px 20px",marginBottom:32,border:"1px solid #e8e8e8"},children:[e.jsx("div",{style:{color:"#666",fontSize:"0.8rem",marginBottom:12,fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Patient Summary"}),e.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap"},children:[i.age&&e.jsxs("div",{style:{minWidth:"120px"},children:[e.jsx("div",{style:{color:"#666",fontSize:"0.8rem",marginBottom:4},children:"Age"}),e.jsxs("div",{style:{color:"#7B2CBF",fontWeight:"bold",fontSize:"1.1rem"},children:[i.age," years"]})]}),i.tropType==="it"&&s&&s!=="N/A"&&e.jsxs("div",{style:{minWidth:"120px"},children:[e.jsx("div",{style:{color:"#666",fontSize:"0.8rem",marginBottom:4},children:"Troponin I/T"}),e.jsxs("div",{style:{color:"#7B2CBF",fontWeight:"bold",fontSize:"1.1rem"},children:[s," ng/mL"]})]})]})]})]}),e.jsx("hr",{style:{border:0,borderTop:"1.5px solid #e0e0e0",margin:"40px 0"}}),e.jsx(C,{children:"Suspicion Level from Patient History"}),e.jsxs("div",{style:{marginTop:20},children:[e.jsx(F,{title:"High-Suspicion Features",features:D,isExpanded:k,onToggle:()=>M(!k)}),e.jsx(F,{title:"Low-Suspicion Features",features:I,isExpanded:w,onToggle:()=>A(!w)}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"16px",marginBottom:"32px"},children:e.jsxs("div",{style:{width:"100%"},children:[e.jsx("label",{style:{fontWeight:500,fontSize:"0.9rem",marginBottom:12,display:"block",color:"#666",textAlign:"center"},children:"Select Suspicion Level"}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"8px",width:"100%"},children:[e.jsxs("div",{onClick:()=>u("Low"),style:{flex:1,padding:"12px 8px",border:`2px solid ${i.history==="Low"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:i.history==="Low"?"#f8f4ff":"#fff",cursor:"pointer",transition:"all 0.2s ease-in-out",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:`2px solid ${i.history==="Low"?"#7B2CBF":"#ccc"}`,backgroundColor:i.history==="Low"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.history==="Low"&&e.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",backgroundColor:"#fff"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:i.history==="Low"?"#7B2CBF":"#222",fontWeight:i.history==="Low"?"bold":"normal",fontSize:"0.85rem",marginBottom:"2px"},children:"Low"}),e.jsx("div",{style:{color:"#666",fontSize:"0.7rem",lineHeight:"1.2"},children:"Slightly suspicious"})]})]}),e.jsxs("div",{onClick:()=>u("Medium"),style:{flex:1,padding:"12px 8px",border:`2px solid ${i.history==="Medium"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:i.history==="Medium"?"#f8f4ff":"#fff",cursor:"pointer",transition:"all 0.2s ease-in-out",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:`2px solid ${i.history==="Medium"?"#7B2CBF":"#ccc"}`,backgroundColor:i.history==="Medium"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.history==="Medium"&&e.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",backgroundColor:"#fff"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:i.history==="Medium"?"#7B2CBF":"#222",fontWeight:i.history==="Medium"?"bold":"normal",fontSize:"0.85rem",marginBottom:"2px"},children:"Medium"}),e.jsx("div",{style:{color:"#666",fontSize:"0.7rem",lineHeight:"1.2"},children:"Moderately suspicious"})]})]}),e.jsxs("div",{onClick:()=>u("High"),style:{flex:1,padding:"12px 8px",border:`2px solid ${i.history==="High"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:i.history==="High"?"#f8f4ff":"#fff",cursor:"pointer",transition:"all 0.2s ease-in-out",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:`2px solid ${i.history==="High"?"#7B2CBF":"#ccc"}`,backgroundColor:i.history==="High"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.history==="High"&&e.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",backgroundColor:"#fff"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:i.history==="High"?"#7B2CBF":"#222",fontWeight:i.history==="High"?"bold":"normal",fontSize:"0.85rem",marginBottom:"2px"},children:"High"}),e.jsx("div",{style:{color:"#666",fontSize:"0.7rem",lineHeight:"1.2"},children:"Highly suspicious"})]})]})]})]})})]}),e.jsx("hr",{style:{border:0,borderTop:"1.5px solid #e0e0e0",margin:"40px 0"}}),e.jsx(C,{children:"Risk Factors"}),e.jsx("div",{style:{marginTop:16,marginBottom:24,padding:"12px 16px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:e.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666",lineHeight:"1.4"},children:"Select all risk factors that apply to this patient. You can select multiple options by clicking on them."})}),e.jsxs("div",{style:{marginTop:20,marginBottom:32},children:[e.jsx("div",{className:"checkboxes",style:{display:"none"},children:B.map((t,o)=>e.jsx(V,{label:t.label,checked:t.checked,onChange:()=>v(o)},o))}),e.jsx("div",{className:"risk-tags",style:{display:"flex",flexWrap:"wrap",gap:"6px",padding:"2px"},children:B.map((t,o)=>e.jsxs("div",{onClick:()=>v(o),style:{padding:"7px 10px",borderRadius:"14px",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease-in-out",userSelect:"none",border:"1px solid",display:"flex",alignItems:"center",gap:"4px",backgroundColor:t.checked?"#7B2CBF":"#f0f0f0",color:t.checked?"#fff":"#333",borderColor:t.checked?"#7B2CBF":"#ddd",whiteSpace:"nowrap",minWidth:"fit-content"},children:[e.jsx("span",{children:t.label}),t.checked&&e.jsx("span",{style:{fontSize:"0.65rem",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"50%",width:"14px",height:"14px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"×"})]},o))})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:32},children:e.jsxs("div",{style:{background:a.bg,border:`2px solid ${a.border}`,borderRadius:"16px",padding:"24px 0",minHeight:"80px",width:"100%",maxWidth:"340px",boxShadow:a.shadow,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,transition:"all 0.2s ease-in-out",boxSizing:"border-box"},children:[e.jsx("div",{style:{fontSize:"2.8rem",fontWeight:800,lineHeight:1,color:a.text},children:f}),e.jsx("div",{style:{fontSize:"1.2rem",fontWeight:500,color:a.text,marginTop:2},children:"HEART Score"})]})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:16,marginBottom:32},children:e.jsx("button",{onClick:L,style:{background:"linear-gradient(135deg, #7B2CBF 0%, #9D4EDD 100%)",border:"none",borderRadius:"16px",padding:"16px 0",color:"#fff",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease-in-out",boxShadow:"0 6px 20px rgba(123, 44, 191, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",maxWidth:"340px",textTransform:"none",letterSpacing:"0.5px"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 8px 25px rgba(123, 44, 191, 0.4)"},onMouseLeave:t=>{t.target.style.transform="translateY(0px)",t.target.style.boxShadow="0 6px 20px rgba(123, 44, 191, 0.3)"},children:"Complete HEART Score"})})]})})}const z=document.createElement("style");z.textContent=`
  /* Show checkboxes on desktop, tags on mobile */
  @media (min-width: 768px) {
    .checkboxes {
      display: flex !important;
    }
    .risk-tags {
      display: none !important;
    }
  }
  
  @media (max-width: 767px) {
    .checkboxes {
      display: none !important;
    }
    .risk-tags {
      display: flex !important;
    }
  }
`;document.head.appendChild(z);export{K as Route};
