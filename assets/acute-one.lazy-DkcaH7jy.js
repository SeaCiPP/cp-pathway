import{j as o,L as Be,a as Ee,r as F,u as Ie,c as Ue}from"./index-DYQ_0Yg9.js";import{r as _e,S as X}from"./riskStyles-V1uhPC8Q.js";import{u as qe}from"./useIsMobile-Dxh5WWoA.js";const Te=[];function ee(){return window==null?void 0:window.matchMedia("(pointer: coarse)").matches}function Ke(){return window==null?void 0:window.matchMedia("(prefers-color-scheme: dark)").matches}async function Fe(e){await new Promise(t=>setTimeout(t,e))}function Xe(){return"fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function R(e,t){try{return typeof e=="string"?(t??document).querySelector(e):e}catch{return null}}function j(e,t){try{return typeof e=="string"?(t??document).querySelectorAll(e):e??Te}catch{return Te}}function w(e,t){return(e==null?void 0:e.classList.contains(t))??!1}function E(e,t){var n;return((n=e==null?void 0:e.tagName)==null?void 0:n.toLowerCase())===t}function D(e,t){var n;return((n=e==null?void 0:e.type)==null?void 0:n.toLowerCase())===t}function L(e,t){if(e instanceof NodeList)for(let n=0;n<e.length;n++)e[n].classList.add(t);else e==null||e.classList.add(t)}function B(e,t){if(e instanceof NodeList)for(let n=0;n<e.length;n++)e[n].classList.remove(t);else e==null||e.classList.remove(t)}function y(e,t,n,r=!0){e!=null&&e.addEventListener&&e.addEventListener(t,n,r)}function ue(e,t,n,r=!0){e!=null&&e.removeEventListener&&e.removeEventListener(t,n,r)}function Je(e,t){var n;(n=t==null?void 0:t.parentNode)==null||n.insertBefore(e,t)}function de(e){return e==null?void 0:e.previousElementSibling}function pe(e){return e==null?void 0:e.nextElementSibling}function Z(e){return e==null?void 0:e.parentElement}function Qe(e){const t=document.createElement("div");for(let n=0,r=Object.keys(e),f=r.length;n<f;n++){const s=r[n],i=e[s];t.setAttribute(s,i)}return t}function he(){var e;(e=document.activeElement)==null||e.blur()}function et(e){return j('[data-ui="#'+e+'"]')}function tt(e){return R('[data-ui="#'+e+'"]')}function ot(e){e.id&&w(e,"page")&&(e=tt(e.id)??e);const t=Z(e);if(!w(t,"tabs")&&!w(t,"tabbed")&&!E(t,"nav"))return;const n=j("a",t);for(let r=0;r<n.length;r++)B(n[r],"active");!E(e,"button")&&!w(e,"button")&&!w(e,"chip")&&L(e,"active")}function Le(e){e.placeholder||(e.placeholder=" ")}function nt(e){const t=e.currentTarget,n=Z(t),r=R("input:not([type=file], [type=checkbox], [type=radio]), select, textarea",n);r&&r.focus()}function fe(e){const t=e.currentTarget;W(t)}function ge(e){const t=e.currentTarget;W(t)}function rt(e){const t=e.currentTarget;me(t)}function it(e){const t=e.currentTarget;ye(t)}function lt(e){const t=e.currentTarget;me(t,e)}function st(e){const t=e.currentTarget;ye(t,e)}function at(e){const t=e.currentTarget;Re(t)}function ct(e){var t;const n=e.currentTarget,r=R("input",Z(n));r&&(t=n.textContent)!=null&&t.includes("visibility")&&(r.type=r.type==="password"?"text":"password")}function ut(){const e=j(".field > label");for(let t=0;t<e.length;t++)y(e[t],"click",nt)}function dt(){const e=j(".field > input:not([type=file], [type=color], [type=range])");for(let t=0;t<e.length;t++)y(e[t],"focus",fe),y(e[t],"blur",ge),W(e[t])}function pt(){const e=j(".field > select");for(let t=0;t<e.length;t++)y(e[t],"focus",fe),y(e[t],"blur",ge)}function ht(){const e=j(".field > input[type=file]");for(let t=0;t<e.length;t++)y(e[t],"change",rt),me(e[t])}function ft(){const e=j(".field > input[type=color]");for(let t=0;t<e.length;t++)y(e[t],"change",it),ye(e[t])}function gt(){const e=j(".field.textarea > textarea");for(let t=0;t<e.length;t++)y(e[t],"focus",fe),y(e[t],"blur",ge),y(e[t],"input",at),Re(e[t])}function mt(){const e=j("input[type=password] ~ :is(i, a)");for(let t=0;t<e.length;t++)y(e[t],"click",ct)}function W(e){D(e,"number")&&!e.value&&(e.value=""),Le(e)}function me(e,t){if((t==null?void 0:t.key)==="Enter"){const r=de(e);if(!D(r,"file"))return;r.click();return}const n=pe(e);D(n,"text")&&(n.value=e.files?Array.from(e.files).map(r=>r.name).join(", "):"",n.readOnly=!0,y(n,"keydown",lt,!1),W(n))}function ye(e,t){if((t==null?void 0:t.key)==="Enter"){const r=de(e);if(!D(r,"color"))return;r.click();return}const n=pe(e);D(n,"text")&&(n.readOnly=!0,n.value=e.value,y(n,"keydown",st,!1),W(n))}function Re(e){Le(e);const t=Z(e);t.removeAttribute("style"),w(t,"min")&&t.style.setProperty("--_size",`${Math.min(192,Math.max(e.scrollHeight,t.offsetHeight))}px`)}function yt(){ut(),dt(),pt(),ht(),ft(),gt(),mt()}function ve(e){const t=e.target;!E(t,"input")&&!E(t,"select")||(t.type==="range"?(t.focus(),Ne(t)):Ze())}function xt(e){if(!ee())return;const t=e.target,n=Z(t);w(n,"vertical")&&document.body.classList.add("no-scroll")}function Tt(e){if(!ee())return;const t=e.target,n=Z(t);w(n,"vertical")&&document.body.classList.remove("no-scroll")}function Ze(){const e=document.body,t=j(".slider > input[type=range]");t.length?y(e,"input",ve,!1):ue(e,"input",ve,!1);for(let n=0;n<t.length;n++)Ne(t[n])}function vt(){const e=getComputedStyle(document.documentElement).getPropertyValue("--size")||"16px";return e.includes("%")?parseInt(e)*16/100:e.includes("em")?parseInt(e)*16:parseInt(e)}function Ne(e){y(e,"focus",xt),y(e,"blur",Tt);const t=Z(e),n=R("span",t),r=j("input",t);if(!r.length||!n)return;const f=vt(),s=w(t,"max")?0:.25*f*100/r[0].offsetWidth,i=[],c=[];for(let O=0,$=r.length;O<$;O++){const M=parseFloat(r[O].min)||0,A=parseFloat(r[O].max)||100,Y=parseFloat(r[O].value)||0,U=(Y-M)*100/(A-M),_=s/2-s*U/100;i.push(U+_),c.push(Y)}let l=i[0],S=0,C=100-S-l,I=c[0],N=c[1]||0;r.length>1&&(l=Math.abs(i[1]-i[0]),S=i[1]>i[0]?i[0]:i[1],C=100-S-l,N>I&&(I=c[1]||0,N=c[0])),t.style.setProperty("--_start",`${S}%`),t.style.setProperty("--_end",`${C}%`),t.style.setProperty("--_value1",`'${I}'`),t.style.setProperty("--_value2",`'${N}'`)}function bt(){Ze()}const k={light:"",dark:""};function ce(){var e;return(e=document==null?void 0:document.body)!=null&&e.classList.contains("dark")?"dark":"light"}function wt(){if(k.light&&k.dark)return k;const e=document.body,t=document.createElement("body");t.className="light",e.appendChild(t);const n=document.createElement("body");n.className="dark",e.appendChild(n);const r=getComputedStyle(t),f=getComputedStyle(n),s=["--primary","--on-primary","--primary-container","--on-primary-container","--secondary","--on-secondary","--secondary-container","--on-secondary-container","--tertiary","--on-tertiary","--tertiary-container","--on-tertiary-container","--error","--on-error","--error-container","--on-error-container","--background","--on-background","--surface","--on-surface","--surface-variant","--on-surface-variant","--outline","--outline-variant","--shadow","--scrim","--inverse-surface","--inverse-on-surface","--inverse-primary","--surface-dim","--surface-bright","--surface-container-lowest","--surface-container-low","--surface-container","--surface-container-high","--surface-container-highest"];for(let i=0,c=s.length;i<c;i++)k.light+=s[i]+":"+r.getPropertyValue(s[i])+";",k.dark+=s[i]+":"+f.getPropertyValue(s[i])+";";return e.removeChild(t),e.removeChild(n),k}function jt(e){const t=globalThis,n=document.body;if(!e||!t.materialDynamicColors)return wt();const r=ce();return e.light&&e.dark?(k.light=e.light,k.dark=e.dark,n.setAttribute("style",e[r]),e):t.materialDynamicColors(e).then(f=>{const s=i=>{let c="";for(let l=0,S=Object.keys(i),C=S.length;l<C;l++){const I=S[l],N=i[I],O=I.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();c+="--"+O+":"+N+";"}return c};return k.light=s(f.light),k.dark=s(f.dark),n.setAttribute("style",k[r]),k})}function ze(e){const t=globalThis,n=document.body;if(!n)return e;if(!e)return ce();e==="auto"&&(e=Ke()?"dark":"light"),n.classList.remove("light","dark"),n.classList.add(e);const r=e==="light"?k.light:k.dark;return t.materialDynamicColors&&n.setAttribute("style",r),ce()}const Q=[];function Ae(e){if(e.key==="Escape"){const t=e.currentTarget;He(t,t)}}function St(e){(R("[autofocus]",e)??e).focus()}function Pe(e,t){B(et(e.id),"active"),B(e,"active"),B(t,"active"),e.close(),Q.pop();const n=Q[Q.length-1];n?n.focus():ee()&&document.body.classList.remove("no-scroll")}async function Ct(e,t,n,r){!E(r,"button")&&!w(r,"button")&&!w(r,"chip")&&L(r,"active"),L(t,"active"),L(e,"active"),n?e.showModal():e.show(),await Fe(90),n||y(e,"keydown",Ae,!1),Q.push(e),ee()&&document.body.classList.add("no-scroll"),St(e)}function kt(e){const t=e.currentTarget,n=pe(t);E(n,"dialog")&&Pe(n,t)}async function He(e,t){he();let n=de(t);const r=w(t,"active")||t.open,f=w(t,"modal");f||ue(t,"keydown",Ae,!1),w(n,"overlay")||(n=Qe({class:"overlay"}),Je(n,t),await Fe(90)),f||y(n,"click",kt,!1),r?Pe(t,n):Ct(t,n,f,e)}let ne;function Me(e){ue(document.body,"click",Me);const t=e.target,n=j("menu.active");for(let r=0;r<n.length;r++)Ge(t,n[r],e)}function Ot(e){setTimeout(()=>{const t=R(".field > input",e);t?t.focus():e.focus()},90)}function Ge(e,t,n){ne&&clearTimeout(ne),ne=setTimeout(()=>{y(document.body,"click",Me),E(document.activeElement,"input")||he();const r=w(t,"active"),f=(n==null?void 0:n.target)===e,s=!!e.closest("menu");if(!r&&s||r&&f){B(t,"active");return}B(j("menu.active"),"active"),L(t,"active"),Ot(t)},90)}let G;function Bt(e){const t=e.currentTarget;B(t,"active"),G&&clearTimeout(G)}function Et(e,t){he();const n=j(".snackbar.active");for(let r=0;r<n.length;r++)B(n[r],"active");L(e,"active"),y(e,"click",Bt),G&&clearTimeout(G),t!==-1&&(G=setTimeout(()=>{B(e,"active")},t??6e3))}function It(e){const t=Z(e);t&&B(j(":scope > .page",t),"active"),L(e,"active")}function Ft(e){Lt(e)}function Lt(e){const t=e.currentTarget,n=t.getBoundingClientRect(),r=Math.max(n.width,n.height),f=r/2,s=e.clientX-n.left-f,i=e.clientY-n.top-f,c=document.createElement("div");c.className="ripple-js";const l=document.createElement("div");l.style.inlineSize=l.style.blockSize=`${r}px`,l.style.left=`${s}px`,l.style.top=`${i}px`,l.addEventListener("animationend",()=>{c.remove()}),c.appendChild(l),t.appendChild(c)}function Rt(){const e=j(".slow-ripple, .ripple, .fast-ripple");for(let t=0;t<e.length;t++)y(e[t],"pointerdown",Ft)}const V=globalThis;let re,ie;function be(){re&&clearTimeout(re),re=setTimeout(async()=>await De(),180)}async function xe(e,t,n,r){if(!t&&(t=R(e.getAttribute("data-ui")),!t)){e.classList.toggle("active");return}if(ot(e),E(t,"dialog")){await He(e,t);return}if(E(t,"menu")){Ge(e,t,r);return}if(w(t,"snackbar")){Et(t,n);return}if(w(t,"page")){It(t);return}if(w(t,"active")){B(e,"active"),B(t,"active");return}L(t,"active")}function Zt(e){xe(e.currentTarget,null,null,e)}function Nt(e){e.key==="Enter"&&xe(e.currentTarget,null,null,e)}function Ve(){V.ui||ie||!V.MutationObserver||(ie=new MutationObserver(be),ie.observe(document.body,{childList:!0,subtree:!0}),be())}function zt(){const e=j("[data-ui]");for(let t=0,n=e.length;t<n;t++)y(e[t],"click",Zt),E(e[t],"a")&&!e[t].getAttribute("href")&&y(e[t],"keydown",Nt)}function De(e,t){if(e){if(e==="setup"){Ve();return}if(e==="guid")return Xe();if(e==="mode")return ze(t);if(e==="theme")return jt(t);const n=R(e);if(!n)return;xe(n,n,t)}zt(),yt(),bt(),Rt()}function At(){var e;if(V.ui)return;const t=(e=V.document)==null?void 0:e.body;t&&!t.classList.contains("dark")&&!t.classList.contains("light")&&ze("auto"),Ve(),V.ui=De}At();function le(e){const t=!e.value||e.value==="";return o.jsxs("div",{className:"field label suffix border",children:[o.jsxs("select",{value:e.value,onChange:e.onChange,className:t?"placeholder-text":"selected-text",children:[o.jsx("option",{value:"",disabled:!0,children:e.placeholder||e.label}),o.jsx("option",{children:e.itemone}),o.jsx("option",{children:e.itemtwo}),o.jsx("option",{children:e.itemthree}),o.jsx("option",{children:e.itemfour})]}),o.jsx("label",{children:e.label}),o.jsx("i",{children:"arrow_drop_down"})]})}function P(e){return o.jsxs("div",{className:"field label border",children:[o.jsx("input",{type:"number",step:"any",value:e.value,onChange:e.onChange,disabled:e.disabled,placeholder:e.placeholder}),o.jsx("label",{children:e.label||"Value"})]})}function we(e){const t=e.text==="Use Institution Specific STEMI Protocol",n=o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:16},children:o.jsxs("button",{onClick:e.onClick,style:{...e.style,margin:0,...t&&{backgroundColor:"#ff0000",color:"white",border:"none",padding:"20px 24px",minHeight:"56px",borderRadius:"12px",cursor:"pointer",width:"100%",maxWidth:"320px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",fontSize:"1.2rem",fontWeight:"600",lineHeight:"1.2",boxSizing:"border-box",transition:"all 0.2s ease-in-out",animation:"stemiPulse 1.5s infinite"}},onMouseEnter:r=>{t&&(r.target.style.transform="translateY(-2px)",r.target.style.filter="brightness(1.05)")},onMouseLeave:r=>{t&&(r.target.style.transform="translateY(0)",r.target.style.filter="brightness(1)")},children:[o.jsx("i",{style:{color:t?"white":"inherit",fontSize:"1.2em"},children:e.image}),o.jsx("span",{style:{color:t?"white":"inherit"},children:e.text})]})});return e.toPage?o.jsx(Be,{to:e.toPage,children:n}):n}const je=({heartScore:e,heartScoreCalculated:t,heartScoreRef:n,onAction:r})=>{const f=Ee();let s="#7B2CBF",i="#f8f4ff",c="#E2B93B",l="Intermediate Risk",S="⚠️";return e<4?(s="#219653",i="#219653",c="#219653",l="Low Risk",S="✓"):e>=4&&e<7?(s="#E2B93B",i="#E2B93B",c="#E2B93B",l="Intermediate Risk",S="⚠️"):e>=7&&(s="#D7263D",i="#D7263D",c="#D7263D",l="High Risk",S="⚠️"),o.jsx("div",{ref:n,style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:32},children:t?o.jsxs("div",{style:{background:i,color:"#fff",borderRadius:16,fontSize:"2.2rem",fontWeight:700,padding:"24px 0 0 0",minHeight:"120px",width:"100%",maxWidth:"340px",boxShadow:`0 2px 12px ${s}22`,border:`2px solid ${s}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:8,transition:"all 0.2s ease-in-out",boxSizing:"border-box",overflow:"hidden",marginBottom:24},children:[o.jsx("div",{style:{fontSize:"2.8rem",fontWeight:800,lineHeight:1,color:"#fff"},children:e}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:500,color:"#fff",marginTop:2,marginBottom:8},children:"HEART Score"}),o.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:o.jsxs("button",{className:"btn-standard",style:{background:c,color:"#fff",border:"2px solid #fff",borderRadius:"12px",padding:"16px 0",fontSize:"1.1rem",fontWeight:700,width:"92%",margin:"0 auto 16px auto",cursor:"pointer",boxShadow:"0 4px 18px 0 rgba(0,0,0,0.13)",display:"flex",alignItems:"center",justifyContent:"center",gap:10,transition:"all 0.2s",outline:"none"},onClick:r||(()=>{}),onMouseEnter:C=>{C.target.style.boxShadow="0 8px 24px 0 rgba(0,0,0,0.18)",C.target.style.filter="brightness(0.95)"},onMouseLeave:C=>{C.target.style.boxShadow="0 4px 18px 0 rgba(0,0,0,0.13)",C.target.style.filter="none"},children:[o.jsx("span",{style:{fontSize:"1.3em",animation:"iconBounce 1.5s infinite"},children:S}),l]})})]}):o.jsxs("button",{className:"btn-standard",style:{background:"#1976d2",color:"#fff",boxShadow:"0 2px 12px rgba(25, 118, 210, 0.15)",animation:"heartPulse 1.5s infinite",width:"100%",maxWidth:"300px",padding:"16px 24px",borderRadius:"12px",border:"none",fontSize:"1.1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},onClick:()=>f({to:"/heart-score"}),onMouseEnter:C=>{C.target.style.boxShadow="0 4px 16px rgba(25, 118, 210, 0.25)"},onMouseLeave:C=>{C.target.style.boxShadow="0 2px 12px rgba(25, 118, 210, 0.15)"},children:[o.jsx("span",{style:{fontSize:"1.2em",animation:"iconBounce 1.5s infinite"},children:"❤️"}),"Calculate HEART Score"]})})},Pt={opacity:1,transform:"translateY(0)",transition:"opacity 0.25s cubic-bezier(.4,0,.2,1), transform 0.25s cubic-bezier(.4,0,.2,1)"},Ht={opacity:0,transform:"translateY(12px)",pointerEvents:"none",height:0},se=({children:e})=>{const[t,n]=F.useState(!1),{formData:r}=Ie();return F.useEffect(()=>{r.heartScoreCalculated?n(!0):setTimeout(()=>n(!0),10)},[r.heartScoreCalculated]),o.jsx("div",{style:t?Pt:Ht,children:e})},We=({risk:e="moderate",children:t,onClick:n,style:r={},containerStyle:f={},...s})=>{const i=_e[e];return o.jsx("div",{className:"btn-container",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"16px",...f},children:o.jsxs("button",{className:"btn-standard",style:{background:i.bg,color:i.text,border:"2px solid #fff",borderRadius:12,padding:"16px 0",fontSize:"1.1rem",fontWeight:700,width:"100%",maxWidth:"300px",margin:"0 auto",cursor:"pointer",boxShadow:i.shadow,display:"flex",alignItems:"center",justifyContent:"center",gap:10,transition:"all 0.2s",outline:"none",...r},onClick:n,onMouseEnter:c=>{c.target.style.boxShadow="0 8px 24px 0 rgba(0,0,0,0.18)",c.target.style.filter="brightness(0.95)"},onMouseLeave:c=>{c.target.style.boxShadow=i.shadow,c.target.style.filter="none"},...s,children:[o.jsx("span",{style:{fontSize:"1.3em",animation:"iconBounce 1.5s infinite",color:i.iconColor},children:i.icon}),t||(e==="low"?"Low Risk":e==="high"?"High Risk":"Intermediate Risk")]})})},Se=e=>o.jsx(We,{risk:"low",...e}),Ce=e=>o.jsx(We,{risk:"high",...e}),J={BeckmanCoulter:["4","5","4","50","15"],Roche:["5","12","3","52","5"],Abbott:["4","5","2","64","6"],Siemens:["3","6","3","120","12"],IT:["0.04","0.08","-","0.08","-"]},Wt=Ue("/acute-one")({component:Mt}),H={opacity:1,transform:"translateY(0)",transition:"opacity 0.25s cubic-bezier(.4,0,.2,1), transform 0.25s cubic-bezier(.4,0,.2,1)"},ae={opacity:0,transform:"translateY(12px)",pointerEvents:"none",height:0},ke={opacity:1,transform:"translateY(0)",transition:"opacity 0.4s cubic-bezier(.4,0,.2,1), transform 0.4s cubic-bezier(.4,0,.2,1)",maxHeight:"1000px"},Oe={opacity:0,transform:"translateY(16px)",transition:"opacity 0.3s cubic-bezier(.4,0,.2,1), transform 0.3s cubic-bezier(.4,0,.2,1)",maxHeight:"0px",overflow:"hidden",pointerEvents:"none"};function Mt(){const{formData:e,setFormData:t,resetFormData:n}=Ie(),[r,f]=F.useState({tropZero:null,tropOne:null,tropThree:null}),[s,i]=F.useState(null),[c,l]=F.useState(null),S=F.useRef(null),[C,I]=F.useState(!1),N=Ee(),O=qe(),$=!!e.ecg&&!!e.age&&!!e.duration;F.useEffect(()=>{e.heartScoreCalculated&&setTimeout(()=>{var u;(u=S.current)==null||u.scrollIntoView({behavior:"smooth",block:"center"})},100)},[e.heartScoreCalculated]);const M=u=>x=>{const d=x.target.value;/^\d*\.?\d{0,2}$/.test(d)&&(t(h=>({...h,[u]:d})),u==="duration"&&e.tropZero&&(i(null),l(null),setTimeout(()=>{if(e.tropType==="it"){const h=parseFloat(e.tropZero),a=parseFloat(d),p=.04;h<p&&a>3?(i(1),l("tropZero"),f(m=>({...m,tropZero:1}))):h<p&&f(m=>({...m,tropZero:1}))}else if(e.tropType==="hs"){const h=parseFloat(e.tropZero),a=parseFloat(d),p=J[e.tropTest];if(p){const m=parseFloat(p[0]);h<m&&a>3?(i(1),l("tropZero"),f(g=>({...g,tropZero:1}))):h<m&&f(g=>({...g,tropZero:1}))}}},0)))},A=u=>x=>{const d=x.target.value;if(/^\d*\.?\d{0,2}$/.test(d)){if(t(a=>({...a,[u]:d})),d.trim()===""){i(null),l(null),u==="tropZero"?f({tropZero:null,tropOne:null,tropThree:null}):u==="tropOne"?f(a=>({...a,tropOne:null,tropThree:null})):u==="tropThree"&&f(a=>({...a,tropThree:null}));return}let h=null;e.tropType==="it"?h=U(u,d):e.tropType==="hs"&&(h=Y(u,d)),h!==null&&f(a=>({...a,[u]:h}))}},Y=(u,x)=>{const d=J[e.tropTest];console.log("Checking trop:",{field:u,trop:x,values:d,formData:e});const h=parseFloat(x);if(u==="tropZero"){const a=parseFloat(d[0]),p=parseFloat(d[3]);if(e.tropTest==="BeckmanCoulter"&&h>=5&&h<=49)return console.log("Setting intermediate for tropZero - Beckman Coulter intermediate range, proceed to 1hr testing"),i(null),l(null),2;if(h<a)return parseFloat(e.duration)>3?(console.log("Setting risk 1 for tropZero - very low troponin with duration >3hrs"),i(1),l("tropZero"),1):(console.log("Setting very low for tropZero - proceed to 1hr testing (duration ≤3hrs)"),i(null),l(null),1);if(h>=a&&h<p)return console.log("Setting risk null for tropZero intermediate"),i(null),l(null),2;if(h>=p)return console.log("Setting risk 3 for tropZero"),i(3),l("tropZero"),3}else if(u==="tropOne"){const a=parseFloat(x),p=parseFloat(e.tropZero),m=a-p,g=parseFloat(d[2]),T=parseFloat(d[4]);if(console.log("=== ONE HOUR CALCULATION DEBUG ==="),console.log("tropValue:",a),console.log("initialValue (formData.tropZero):",p),console.log("delta:",m),console.log("deltaThreshold:",g),console.log("highDeltaThreshold:",T),console.log("values array:",d),e.tropTest==="BeckmanCoulter"){if(p>=5&&p<=49)return a<5&&m<=4?(console.log("TRIGGERING LOW RISK for tropOne - Beckman Coulter intermediate range criteria met"),i(1),l("tropOne"),1):(console.log("All other cases for tropOne - Beckman Coulter intermediate range"),i(null),l(null),2);if(p===4)return a<5&&m<=4?(console.log("TRIGGERING LOW RISK for tropOne - Beckman Coulter threshold case criteria met"),i(1),l("tropOne"),1):(console.log("All other cases for tropOne - Beckman Coulter threshold case"),i(null),l(null),2);p<4&&console.log("Very low initial troponin - using regular delta logic")}const b=parseFloat(d[0]),z=parseFloat(d[3]);let v=null;return p<b?v=1:p>=b&&p<z?v=2:p>=z&&(v=3),console.log("Initial category calculated:",v),console.log("Delta < deltaThreshold?",m<g),m<g?v===1?(console.log("TRIGGERING LOW RISK for tropOne"),i(1),l("tropOne"),1):(console.log("Returning category 2 (intermediate) for tropOne"),i(null),l(null),2):m>=T?(console.log("TRIGGERING HIGH RISK for tropOne - delta exceeded threshold"),i(3),l("tropOne"),3):(console.log("Returning category 2 (intermediate) for tropOne - delta between thresholds"),i(null),l(null),2)}else if(u==="tropThree"){const a=parseFloat(x),p=parseFloat(e.tropZero),m=a-p,g=parseFloat(d[2]),T=parseFloat(d[4]),b=parseFloat(d[3]),z=parseFloat(d[0]);let v=null;return p<z?v=1:p>=z&&p<b?v=2:p>=b&&(v=3),m<g?v===1?(console.log("Setting risk 1 for tropThree"),i(1),l("tropThree"),1):(i(null),l(null),3):m>=T||a>=b?(console.log("Setting risk 3 for tropThree"),i(3),l("tropThree"),3):(console.log("Setting category 3 for tropThree intermediate case"),i(null),l(null),3)}},U=(u,x)=>{const d=J.IT,h=parseFloat(x),a=parseFloat(d[0]),p=parseFloat(d[3]);if(h<a)return u==="tropZero"&&parseFloat(e.duration)>3?(i(1),l(u),1):(u==="tropThree"&&(i(1),l(u)),1);if(h>=a&&h<=p)return i(null),l(null),2;if(h>p)return i(3),l(u),3},_=u=>{const x=u.target.value;x==="Option 4: STEMI"?(I(!0),setTimeout(()=>{t(d=>({...d,ecg:x,age:"",duration:"",tropTest:"",tropZero:"",tropType:"",tropOne:"",tropThree:""})),f({tropZero:null,tropOne:null,tropThree:null}),setTimeout(()=>{I(!1)},300)},300)):t(d=>({...d,ecg:x}))},te=u=>x=>{const d=x.target.value;u==="tropType"?(i(null),l(null),f({tropZero:null,tropOne:null,tropThree:null}),t(h=>({...h,[u]:d,tropTest:"",tropZero:"",tropOne:"",tropThree:""}))):u==="tropTest"?(t(h=>({...h,[u]:d})),i(null),l(null),f({tropZero:null,tropOne:null,tropThree:null}),setTimeout(()=>{const h=(a,p)=>{const m=J[d];console.log("Checking trop with new assay:",{field:a,tropValue:p,values:m,newAssay:d});const g=parseFloat(p);if(a==="tropZero"){const T=parseFloat(m[0]),b=parseFloat(m[3]);if(d==="BeckmanCoulter"&&g>=5&&g<=49)return console.log("Setting intermediate for tropZero with new assay - Beckman Coulter intermediate range, proceed to 1hr testing"),i(null),l(null),2;if(g<T)return parseFloat(e.duration)>3?(console.log("Setting risk 1 for tropZero with new assay - very low troponin with duration >3hrs"),i(1),l("tropZero"),1):(console.log("Setting very low for tropZero with new assay - proceed to 1hr testing (duration ≤3hrs)"),i(null),l(null),1);if(g>=T&&g<b)return console.log("Setting risk null for tropZero intermediate with new assay"),i(null),l(null),2;if(g>=b)return console.log("Setting risk 3 for tropZero with new assay"),i(3),l("tropZero"),3}else if(a==="tropOne"){const T=parseFloat(m[1]),b=parseFloat(m[4]),z=parseFloat(m[6]);if(d==="BeckmanCoulter"){const v=parseFloat(e.tropZero);if(v>=5&&v<=49){const K=g-v;return g<5&&K<=4?(console.log("Setting risk 1 for tropOne with new assay - Beckman Coulter intermediate range criteria met"),i(1),l("tropOne"),1):(console.log("All other cases for tropOne with new assay - Beckman Coulter intermediate range"),i(null),l(null),2)}else if(v===4){const K=g-v;return g<5&&K<=4?(console.log("Setting risk 1 for tropOne with new assay - Beckman Coulter threshold case criteria met"),i(1),l("tropOne"),1):(console.log("All other cases for tropOne with new assay - Beckman Coulter threshold case"),i(null),l(null),2)}else v<4&&console.log("Very low initial troponin with new assay - using regular delta logic")}if(g<T){const v=parseFloat(e.tropZero);return g-v<z?(console.log("Setting risk 1 for tropOne delta with new assay"),i(1),l(null),1):(console.log("Setting risk null for tropOne with new assay"),i(null),l(null),2)}else{if(g>=T&&g<b)return console.log("Setting risk null for tropOne intermediate with new assay"),i(null),l(null),2;if(g>=b)return console.log("Setting risk 3 for tropOne with new assay"),i(3),l("tropOne"),3}}else if(a==="tropThree"){const T=parseFloat(m[2]),b=parseFloat(m[5]);if(g<T)return console.log("Setting risk 1 for tropThree with new assay"),i(1),l("tropThree"),1;if(g>=T&&g<b)return console.log("Setting risk null for tropThree intermediate with new assay"),i(null),l(null),2;if(g>=b)return console.log("Setting risk 3 for tropThree with new assay"),i(3),l("tropThree"),3}return null};if(e.tropZero){const a=h("tropZero",e.tropZero);a!==null&&f(p=>({...p,tropZero:a}))}if(e.tropOne){const a=h("tropOne",e.tropOne);a!==null&&f(p=>({...p,tropOne:a}))}if(e.tropThree){const a=h("tropThree",e.tropThree);a!==null&&f(p=>({...p,tropThree:a}))}},0)):t(h=>({...h,[u]:d}))};function Ye(u){var b;let x=0;u.history==="Low"?x=0:u.history==="Medium"?x=1:u.history==="High"&&(x=2);let d=0;u.ecg==="Option 1: Normal ECG"?d=0:u.ecg==="Option 2: Non-specific repolarization abnormalities"?d=1:u.ecg==="Option 3: ST segment depressions (not due to LBBB/LVH)"&&(d=2);let h=0;const a=parseInt(u.age);isNaN(a)||(a<45?h=0:a>=45&&a<=60?h=1:a>60&&(h=2));let p=0;const m=((b=u.riskFactors)==null?void 0:b.length)||0;m===0?p=0:m===1||m===2?p=1:m>=3&&(p=2);let g=0,T;return u.tropType==="hs"?(g=0,T="N/A"):(T=Math.max(parseFloat(u.tropZero)||0,parseFloat(u.tropThree)||0),T<.04?g=0:T>=.04&&T<=.08?g=1:T>.08&&(g=2)),x+d+h+p+g}const q=Ye(e);let oe;return q>=4&&q<7&&(oe=()=>N({to:"/alt-test"})),o.jsx("div",{className:"card-container",children:o.jsxs("div",{className:"card",children:[o.jsx("header",{className:"card-header",children:o.jsx(Be,{to:"/",onClick:n,style:{textDecoration:"none"},children:o.jsx("h1",{children:"SCiPP Chest Pain Pathway"})})}),e.ecg==="Option 4: STEMI"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"card-content-grid",children:o.jsxs("div",{className:"left-col",style:{width:"100%"},children:[o.jsx(X,{children:"ECG"}),o.jsx("div",{style:{marginBottom:24,marginTop:20},children:o.jsx(le,{value:e.ecg,onChange:_,itemone:"Option 1: Normal ECG",itemtwo:"Option 2: Non-specific repolarization abnormalities",itemthree:"Option 3: ST segment depressions (not due to LBBB/LVH)",itemfour:"Option 4: STEMI",label:o.jsx("span",{style:{color:"#222"},children:"Select ECG Result"}),placeholder:"Select ECG Result",style:{width:"100%",color:"#111"}})})]})}),o.jsx("div",{className:"stemi-btn-row",children:o.jsx(we,{image:"warning",text:"Use Institution Specific STEMI Protocol",style:{backgroundColor:"#ff0000",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",width:"100%",minHeight:"56px",fontSize:"1.1rem",fontWeight:600,transition:"all 0.2s ease-in-out",animation:"pulse 0.7s infinite",boxShadow:"0 2px 12px rgba(255, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"}})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"card-content-grid",children:[o.jsxs("div",{className:"left-col",children:[o.jsx(X,{children:"ECG"}),o.jsx("div",{style:{marginBottom:24,marginTop:20},children:o.jsx(le,{value:e.ecg,onChange:_,itemone:"Option 1: Normal ECG",itemtwo:"Option 2: Non-specific repolarization abnormalities",itemthree:"Option 3: ST segment depressions (not due to LBBB/LVH)",itemfour:"Option 4: STEMI",label:o.jsx("span",{style:{color:"#222"},children:"Select ECG Result"}),placeholder:"Select ECG Result",style:{width:"100%",color:"#111"}})}),e.ecg==="Option 4: STEMI"?o.jsx("div",{style:{width:"100%",marginTop:24,display:"flex",justifyContent:"center"},children:o.jsx(we,{image:"warning",text:"Use Institution Specific STEMI Protocol",style:{backgroundColor:"#ff0000",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",width:"100%",minHeight:"48px",fontSize:"1.1rem",fontWeight:600,opacity:C?0:1,transition:"all 0.2s ease-in-out",animation:"pulse 0.7s infinite",boxShadow:"0 2px 12px rgba(255, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"}})}):o.jsxs(o.Fragment,{children:[o.jsx("hr",{style:{border:0,borderTop:"1.5px solid #e0e0e0",margin:"40px 0"}}),o.jsx(X,{children:"Patient Info"}),o.jsx("div",{style:{marginBottom:32,marginTop:20},children:o.jsx(P,{value:e.age,onChange:M("age"),label:o.jsx("span",{style:{color:"#222"},children:"Patient Age (years)"})})}),o.jsx("div",{style:{marginBottom:32},children:o.jsx(P,{value:e.duration,onChange:M("duration"),label:o.jsx("span",{style:{color:"#222"},children:"Chest Pain Duration (hours)"})})})]})]}),o.jsxs("div",{className:"right-col",style:{position:"relative"},children:[O&&o.jsx("div",{className:"horizontal-divider","aria-hidden":"true"}),!$&&o.jsx("div",{className:"right-col-overlay",children:o.jsx("div",{className:"right-col-overlay-message",children:O?o.jsxs(o.Fragment,{children:["Please complete the above sections first.",o.jsx("br",{}),"(ECG, Age, and Chest Pain Duration)"]}):o.jsxs(o.Fragment,{children:["Please complete the left column first.",o.jsx("br",{}),"(ECG, Age, and Chest Pain Duration)"]})})}),o.jsxs("div",{className:$?"":"right-col-disabled",children:[o.jsx(X,{children:"Troponin Testing"}),e.ecg!=="Option 4: STEMI"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mcq-container",style:{marginBottom:32},children:[o.jsx("label",{style:{fontWeight:500,fontSize:"1rem",marginBottom:16,display:"block",color:"#222",paddingLeft:0},children:"Troponin Test Type"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},children:[o.jsxs("div",{onClick:()=>e.duration?te("tropType")({target:{value:"hs"}}):null,style:{padding:"16px 20px",border:`2px solid ${e.tropType==="hs"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:e.tropType==="hs"?"#f8f4ff":"#fff",cursor:e.duration?"pointer":"not-allowed",opacity:e.duration?1:.5,transition:"all 0.2s ease-in-out",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:`2px solid ${e.tropType==="hs"?"#7B2CBF":"#ccc"}`,backgroundColor:e.tropType==="hs"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.tropType==="hs"&&o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#fff"}})}),o.jsx("span",{style:{color:e.tropType==="hs"?"#7B2CBF":"#222",fontWeight:e.tropType==="hs"?"bold":"normal",fontSize:"1rem"},children:"HS-Troponin (ng/L)"})]}),o.jsxs("div",{onClick:()=>e.duration?te("tropType")({target:{value:"it"}}):null,style:{padding:"16px 20px",border:`2px solid ${e.tropType==="it"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:e.tropType==="it"?"#f8f4ff":"#fff",cursor:e.duration?"pointer":"not-allowed",opacity:e.duration?1:.5,transition:"all 0.2s ease-in-out",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:`2px solid ${e.tropType==="it"?"#7B2CBF":"#ccc"}`,backgroundColor:e.tropType==="it"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.tropType==="it"&&o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#fff"}})}),o.jsx("span",{style:{color:e.tropType==="it"?"#7B2CBF":"#222",fontWeight:e.tropType==="it"?"bold":"normal",fontSize:"1rem"},children:"Troponin I/T (ng/mL)"})]})]}),o.jsx("div",{style:!e.tropType&&!e.heartScoreCalculated&&!s?{...H,marginTop:12}:ae,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Select a Troponin test type to continue…"]})})]}),o.jsx("div",{style:e.tropType==="hs"?ke:Oe,children:o.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[o.jsx(le,{value:e.tropTest,onChange:te("tropTest"),itemone:"BeckmanCoulter",itemtwo:"Roche",itemthree:"Abbott",itemfour:"Siemens",label:o.jsx("span",{style:{color:"#222"},children:"Select Troponin Assay"}),style:{color:"#222",width:"100%"}}),o.jsx("div",{style:e.tropType==="hs"&&!e.tropTest&&!e.heartScoreCalculated&&!s?H:ae,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:8,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Select a Troponin assay to continue…"]})})]})}),o.jsx("div",{style:e.tropType==="hs"&&e.tropTest||e.tropType==="it"?ke:Oe,children:o.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[o.jsx(P,{value:e.tropZero,onChange:A("tropZero"),disabled:!e.tropType,label:o.jsxs("span",{style:{color:"#222"},children:["Initial Troponin Level (",e.tropType==="hs"?"ng/L":"ng/mL",")"]})}),o.jsx("div",{style:e.tropType&&(e.tropType!=="hs"||e.tropTest)&&!e.tropZero&&!e.heartScoreCalculated&&!s?H:ae,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}),e.tropZero&&(r.tropZero===1||r.tropZero===2||e.heartScoreCalculated)&&o.jsxs(o.Fragment,{children:[e.tropType==="hs"&&!(s&&c==="tropZero")?o.jsx(se,{children:o.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[o.jsx(P,{value:e.tropOne,onChange:A("tropOne"),label:o.jsx("span",{style:{color:"#222"},children:"Troponin at 1 Hour (ng/L)"})}),!e.tropOne&&!e.heartScoreCalculated&&!s&&o.jsx("div",{style:H,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}):e.tropType==="it"&&(!s||c==="tropThree")&&!(s&&c==="tropZero")?o.jsx(se,{children:o.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[o.jsx(P,{value:e.tropThree,onChange:A("tropThree"),label:o.jsx("span",{style:{color:"#222"},children:"Troponin at 3 Hours (ng/mL)"})}),!e.tropThree&&!e.heartScoreCalculated&&!s&&o.jsx("div",{style:H,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}):null,e.tropType==="hs"&&e.tropOne&&!(s&&(c==="tropZero"||c==="tropOne"))&&(r.tropOne===2||e.heartScoreCalculated)?o.jsx(se,{children:o.jsxs("div",{style:{marginBottom:0,width:"100%"},children:[o.jsx(P,{value:e.tropThree,onChange:A("tropThree"),label:o.jsx("span",{style:{color:"#222"},children:"Troponin at 3 Hours (ng/L)"})}),!e.tropThree&&!e.heartScoreCalculated&&!s&&o.jsx("div",{style:H,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Continue to HEART Score…"]})}),e.tropThree&&(r.tropThree===3||e.heartScoreCalculated)&&s===null&&null]})}):e.tropType==="it"&&e.tropThree&&(r.tropThree===2||e.heartScoreCalculated)&&!s&&null]})]}),O&&(s===1&&(c==="tropZero"||c==="tropOne"||c==="tropThree")?o.jsx("div",{style:{width:"100%",marginTop:32},children:o.jsx(Se,{style:{width:"100%"}})}):s===3&&(c==="tropZero"||c==="tropOne"||c==="tropThree")?o.jsx("div",{style:{width:"100%",marginTop:32},children:o.jsx(Ce,{style:{width:"100%"}})}):e.tropThree&&(r.tropThree===3||e.heartScoreCalculated)&&s===null||e.tropType==="it"&&e.tropThree&&(r.tropThree===2||e.heartScoreCalculated)&&!s?o.jsx("div",{style:{width:"100%",marginTop:32},children:o.jsx(je,{heartScore:q,heartScoreCalculated:e.heartScoreCalculated,heartScoreRef:S,onAction:oe,style:{width:"100%"}})}):null)]})]})]}),!O&&(s===1&&(c==="tropZero"||c==="tropOne"||c==="tropThree")?o.jsx("div",{className:"bottom-action-btn-container",children:o.jsx(Se,{style:{width:"100%"}})}):s===3&&(c==="tropZero"||c==="tropOne"||c==="tropThree")?o.jsx("div",{className:"bottom-action-btn-container",children:o.jsx(Ce,{style:{width:"100%"}})}):e.tropThree&&(r.tropThree===3||e.heartScoreCalculated)&&s===null||e.tropType==="it"&&e.tropThree&&(r.tropThree===2||e.heartScoreCalculated)&&!s?o.jsx("div",{className:"bottom-action-btn-container",children:o.jsx(je,{heartScore:q,heartScoreCalculated:e.heartScoreCalculated,heartScoreRef:S,onAction:oe,style:{width:"100%"}})}):null)]})]})})}const $e=document.createElement("style");$e.textContent=`
    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
        }
        70% {
            box-shadow: 0 0 0 10px rgba(255, 0, 0, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
        }
    }
`;document.head.appendChild($e);export{Wt as Route};
