import{j as e,c as H,u as C,r as d,a as E}from"./index-Dl1Nh5Xo.js";import{B as W}from"./Button-D1pmYFg4.js";function T(t){return e.jsxs("label",{className:"radio",children:[e.jsx("input",{type:"radio",value:t.value,name:t.name,checked:t.selected,onChange:t.onChange,disabled:t.disabled}),e.jsx("span",{children:t.label})]})}function S(t){return e.jsxs("div",{className:"field label suffix border",children:[e.jsxs("select",{value:t.value,onChange:t.onChange,style:{color:"#111"},children:[e.jsx("option",{children:t.itemone}),e.jsx("option",{children:t.itemtwo}),e.jsx("option",{children:t.itemthree}),e.jsx("option",{children:t.itemfour})]}),e.jsx("label",{children:t.label}),e.jsx("i",{children:"arrow_drop_down"})]})}function c(t){return e.jsxs("div",{className:"field label border",children:[e.jsx("input",{type:"number",step:"any",value:t.value,onChange:t.onChange,disabled:t.disabled,style:{color:"#000"}}),e.jsx("label",{children:t.label||"Value"})]})}const v={BeckmanCoulter:["4","5","4","50","15"],Roche:["5","12","3","52","5"],Abbott:["4","5","2","64","6"],Siemens:["3","6","3","120","12"],IT:["0.04","0.08","-","0.08","-"]},A=H("/acute-one")({component:O}),s={opacity:1,transform:"translateY(0)",transition:"opacity 0.25s cubic-bezier(.4,0,.2,1), transform 0.25s cubic-bezier(.4,0,.2,1)"},m={opacity:0,transform:"translateY(12px)",pointerEvents:"none",height:0};function O(){const{formData:t,setFormData:l}=C(),[i,h]=d.useState({tropZero:null,tropOne:null,tropThree:null}),y=E(),x=d.useRef(null),[z,j]=d.useState(!1);d.useEffect(()=>{t.heartScoreCalculated&&setTimeout(()=>{var r;(r=x.current)==null||r.scrollIntoView({behavior:"smooth",block:"center"})},100)},[t.heartScoreCalculated]);const b=r=>n=>{const o=n.target.value;/^\d*\.?\d*$/.test(o)&&l(a=>({...a,[r]:o}))},p=r=>n=>{const o=n.target.value;/^\d*\.?\d*$/.test(o)&&l(f=>({...f,[r]:o}));let a=null;t.tropType==="it"?a=k(r,o):t.tropType==="hs"&&(a=I(r,o)),a!==null&&h(f=>({...f,[r]:a}))},I=(r,n)=>{const o=v[t.tropTest];if(r==="tropZero"){if(n<o[0])return t.duration>3,1;if(n>=o[0]&&n<o[3])return 2;n>=o[3]}else if(r==="tropOne"){if(n=n-t.tropZero,n<o[2])return i.tropZero,2;n>=o[4]}else if(r==="tropThree"){if(n=n-t.tropZero,n<o[2])return 3;n>=o[4]||n>=o[3]}},k=(r,n)=>{const o=v.IT;if(n<o[0])return r==="tropZero"&&t.duration>3,1;if(n>=o[0]&&n<=o[3])return 2},B=r=>{const n=r.target.value;n==="Option 4: STEMI"?(j(!0),setTimeout(()=>{l(o=>({...o,ecg:n,age:"",duration:"",tropTest:"BeckmanCoulter",tropZero:"",tropType:"",tropOne:"",tropThree:""})),h({tropZero:null,tropOne:null,tropThree:null}),setTimeout(()=>{j(!1)},300)},300)):l(o=>({...o,ecg:n}))},g=r=>n=>{const o=n.target.value;l(a=>({...a,[r]:o}))};return e.jsx("div",{style:{minHeight:"100vh",background:"#fafbfc",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"32px 0"},children:e.jsxs("div",{style:{background:"#fff",maxWidth:420,width:"100%",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.07)",padding:32,margin:"0 8px"},children:[e.jsx("header",{className:"header",style:{marginBottom:24},children:e.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:700,marginBottom:0,color:"#111"},children:"SCiPP Chest Pain Pathway"})}),e.jsx("h2",{style:{fontSize:"1.15rem",fontWeight:600,marginBottom:8,color:"#111"},children:"ECG"}),e.jsx("div",{style:{marginBottom:20},children:e.jsx(S,{value:t.ecg,onChange:B,itemone:"Option 1: Normal ECG",itemtwo:"Option 2: Non-specific repolarization abnormalities",itemthree:"Option 3: ST segment depressions (not due to LBBB/LVH)",itemfour:"Option 4: STEMI",label:e.jsx("span",{style:{color:"#222"},children:"Select ECG Result"}),style:{width:"100%",color:"#111"}})}),t.ecg==="Option 4: STEMI"?e.jsx("div",{style:{width:"100%",marginTop:"16px",display:"flex",justifyContent:"center"},children:e.jsx(W,{image:"warning",text:"Use Institution Specific STEMI Protocol",style:{backgroundColor:"#ff0000",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",width:"100%",minHeight:"48px",fontSize:"1.1rem",fontWeight:500,opacity:z?0:1,transition:"opacity 0.1s ease-in-out",animation:"pulse 0.7s infinite",boxShadow:"0 2px 12px rgba(255, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"}})}):e.jsxs(e.Fragment,{children:[e.jsx("hr",{style:{border:0,borderTop:"1.5px solid #e0e0e0",margin:"32px 0"}}),e.jsx("h2",{style:{fontSize:"1.15rem",fontWeight:600,marginBottom:8,color:"#111"},children:"Patient Info"}),e.jsx("div",{style:{marginBottom:24},children:e.jsx(c,{value:t.age,onChange:b("age"),label:e.jsx("span",{style:{color:"#222"},children:"Patient Age (years)"})})}),e.jsx("div",{style:{marginBottom:24},children:e.jsx(c,{value:t.duration,onChange:b("duration"),label:e.jsx("span",{style:{color:"#222"},children:"Chest Pain Duration (hours)"})})}),e.jsx("hr",{style:{border:0,borderTop:"1.5px solid #e0e0e0",margin:"32px 0"}}),e.jsx("h2",{style:{fontSize:"1.15rem",fontWeight:600,marginBottom:8,color:"#111"},children:"Troponin Testing"}),t.ecg!=="Option 4: STEMI"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:24,width:"100%",...s},children:[e.jsx("label",{style:{fontWeight:500,fontSize:"1rem",marginBottom:8,display:"block",color:"#222"},children:"Troponin Test Type"}),e.jsxs("div",{className:"radio-group",style:{marginBottom:0,width:"100%"},children:[e.jsx(T,{value:"hs",name:"trop",label:e.jsx("span",{style:{color:"#222"},children:"HS-Troponin (units)"}),selected:t.tropType==="hs",onChange:g("tropType"),disabled:!t.duration}),e.jsx(T,{value:"it",name:"trop",label:e.jsx("span",{style:{color:"#222"},children:"Troponin I/T (units)"}),selected:t.tropType==="it",onChange:g("tropType"),disabled:!t.duration})]}),e.jsx("div",{style:!t.tropType&&!t.heartScoreCalculated?s:m,children:e.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:6,display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:"1.2em",opacity:.7},children:"▼"}),"Select a Troponin test type to continue…"]})}),e.jsx("div",{style:t.tropType==="hs"&&!t.tropTest&&!t.heartScoreCalculated?s:m,children:e.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:6,display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:"1.2em",opacity:.7},children:"▼"}),"Select a Troponin assay to continue…"]})})]}),t.tropType==="hs"&&e.jsx(u,{children:e.jsx("div",{style:{marginBottom:24,width:"100%"},children:e.jsx(S,{value:t.tropTest,onChange:g("tropTest"),itemone:"BeckmanCoulter",itemtwo:"Roche",itemthree:"Abbott",itemfour:"Siemens",label:e.jsx("span",{style:{color:"#222"},children:"Select Troponin Assay"}),style:{color:"#222",width:"100%"}})})}),e.jsxs("div",{style:{marginBottom:24,width:"100%"},children:[e.jsx(c,{value:t.tropZero,onChange:p("tropZero"),disabled:!t.tropType,label:e.jsx("span",{style:{color:"#222"},children:"Initial Troponin Level (ng/mL)"})}),e.jsx("div",{style:t.tropType&&(t.tropType!=="hs"||t.tropTest)&&!(i.tropZero===1||i.tropZero===2)&&!t.heartScoreCalculated?s:m,children:e.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:6,display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:"1.2em",opacity:.7},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]}),(i.tropZero===1||i.tropZero===2||t.heartScoreCalculated)&&e.jsxs(e.Fragment,{children:[t.tropType==="hs"?e.jsx(u,{children:e.jsxs("div",{style:{marginBottom:24,width:"100%"},children:[e.jsx(c,{value:t.tropOne,onChange:p("tropOne"),label:e.jsx("span",{style:{color:"#222"},children:"Troponin at 1 Hour (ng/mL)"})}),!(t.tropType==="hs"&&i.tropOne===2)&&!t.heartScoreCalculated&&e.jsx("div",{style:s,children:e.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:6,display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:"1.2em",opacity:.7},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}):t.tropType==="it"?e.jsx(u,{children:e.jsxs("div",{style:{marginBottom:24,width:"100%"},children:[e.jsx(c,{value:t.tropThree,onChange:p("tropThree"),label:e.jsx("span",{style:{color:"#222"},children:"Troponin at 3 Hours (ng/mL)"})}),!(t.tropType==="it"&&i.tropThree===2)&&!t.heartScoreCalculated&&e.jsx("div",{style:s,children:e.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:6,display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:"1.2em",opacity:.7},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}):null,t.tropType==="hs"&&(i.tropOne===2||t.heartScoreCalculated)?e.jsx(u,{children:e.jsxs("div",{style:{marginBottom:24,width:"100%"},children:[e.jsx(c,{value:t.tropThree,onChange:p("tropThree"),label:e.jsx("span",{style:{color:"#222"},children:"Troponin at 3 Hours (ng/mL)"})}),!(t.tropType==="hs"&&i.tropThree===3)&&!t.heartScoreCalculated&&e.jsx("div",{style:s,children:e.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:6,display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:"1.2em",opacity:.7},children:"▼"}),"Continue to HEART Score…"]})}),(i.tropThree===3||t.heartScoreCalculated)&&e.jsx(e.Fragment,{children:e.jsxs("div",{style:{margin:"32px 0",textAlign:"center"},ref:x,children:[t.heartScoreCalculated?e.jsxs("div",{style:{background:"#e3f2fd",color:"#1976d2",borderRadius:12,fontSize:"2.2rem",fontWeight:700,padding:"18px 0",width:"100%",maxWidth:320,margin:"0 auto",boxShadow:"0 2px 12px rgba(25, 118, 210, 0.12)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx("span",{style:{fontSize:"2.8rem",fontWeight:800,lineHeight:1},children:t.heartScore}),e.jsx("span",{style:{fontSize:"1.1rem",fontWeight:500,color:"#1976d2",marginTop:2},children:"Heart Score"})]}):e.jsxs("button",{style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:12,fontSize:"1.2rem",fontWeight:600,padding:"18px 0",width:"100%",maxWidth:320,margin:"0 auto",boxShadow:"0 2px 12px rgba(25, 118, 210, 0.12)",cursor:"pointer",animation:"pulseHeart 1.2s infinite",transition:"background 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:12},onClick:()=>y({to:"/heart-score"}),children:[e.jsx("span",{style:{fontSize:"1.5em",animation:"bounceHeart 1.2s infinite"},children:"❤️"}),"Calculate Heart Score"]}),e.jsx("style",{children:`
                                                                    @keyframes pulseHeart {
                                                                        0% { box-shadow: 0 0 0 0 rgba(25, 118, 210, 0.25); }
                                                                        70% { box-shadow: 0 0 0 12px rgba(25, 118, 210, 0); }
                                                                        100% { box-shadow: 0 0 0 0 rgba(25, 118, 210, 0); }
                                                                    }
                                                                    @keyframes bounceHeart {
                                                                        0%, 100% { transform: translateY(0); }
                                                                        50% { transform: translateY(-6px); }
                                                                    }
                                                                `})]})})]})}):t.tropType==="it"&&(i.tropThree===2||t.heartScoreCalculated)?e.jsx(e.Fragment,{children:e.jsxs("div",{style:{margin:"32px 0",textAlign:"center"},ref:x,children:[t.heartScoreCalculated?e.jsxs("div",{style:{background:"#e3f2fd",color:"#1976d2",borderRadius:12,fontSize:"2.2rem",fontWeight:700,padding:"18px 0",width:"100%",maxWidth:320,margin:"0 auto",boxShadow:"0 2px 12px rgba(25, 118, 210, 0.12)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4},children:[e.jsx("span",{style:{fontSize:"2.8rem",fontWeight:800,lineHeight:1},children:t.heartScore}),e.jsx("span",{style:{fontSize:"1.1rem",fontWeight:500,color:"#1976d2",marginTop:2},children:"Heart Score"}),e.jsx("span",{style:{fontSize:"2.2rem",marginTop:8},children:"❤️"})]}):e.jsxs("button",{style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:12,fontSize:"1.2rem",fontWeight:600,padding:"18px 0",width:"100%",maxWidth:320,margin:"0 auto",boxShadow:"0 2px 12px rgba(25, 118, 210, 0.12)",cursor:"pointer",animation:"pulseHeart 1.2s infinite",transition:"background 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:12},onClick:()=>y({to:"/heart-score"}),children:[e.jsx("span",{style:{fontSize:"1.5em",animation:"bounceHeart 1.2s infinite"},children:"❤️"}),"Calculate Heart Score"]}),e.jsx("style",{children:`
                                                        @keyframes pulseHeart {
                                                            0% { box-shadow: 0 0 0 0 rgba(25, 118, 210, 0.25); }
                                                            70% { box-shadow: 0 0 0 12px rgba(25, 118, 210, 0); }
                                                            100% { box-shadow: 0 0 0 0 rgba(25, 118, 210, 0); }
                                                        }
                                                        @keyframes bounceHeart {
                                                            0%, 100% { transform: translateY(0); }
                                                            50% { transform: translateY(-6px); }
                                                        }
                                                    `})]})}):null]})]})]})]})})}function u({children:t}){const[l,i]=d.useState(!1),{formData:h}=C();return d.useEffect(()=>{h.heartScoreCalculated?i(!0):setTimeout(()=>i(!0),10)},[h.heartScoreCalculated]),e.jsx("div",{style:l?s:m,children:t})}const w=document.createElement("style");w.textContent=`
    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
        }
        70% {
            box-shadow: 0 0 0 10px rgba(255, 0, 0, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
        }
    }
`;document.head.appendChild(w);export{A as Route};
