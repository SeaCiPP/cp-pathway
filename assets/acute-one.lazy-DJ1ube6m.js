import{j as n,L as ke,a as Ce,r as L,u as Fe,c as Ve}from"./index-dI7VNcNz.js";import{S as oe}from"./SectionHeader-DRC6kAIY.js";import{r as We}from"./riskStyles-DnKbyBVY.js";const me=[];function J(){return window==null?void 0:window.matchMedia("(pointer: coarse)").matches}function Ge(){return window==null?void 0:window.matchMedia("(prefers-color-scheme: dark)").matches}async function Oe(e){await new Promise(t=>setTimeout(t,e))}function Ye(){return"fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function R(e,t){try{return typeof e=="string"?(t??document).querySelector(e):e}catch{return null}}function v(e,t){try{return typeof e=="string"?(t??document).querySelectorAll(e):e??me}catch{return me}}function S(e,t){return(e==null?void 0:e.classList.contains(t))??!1}function E(e,t){var o;return((o=e==null?void 0:e.tagName)==null?void 0:o.toLowerCase())===t}function V(e,t){var o;return((o=e==null?void 0:e.type)==null?void 0:o.toLowerCase())===t}function Z(e,t){if(e instanceof NodeList)for(let o=0;o<e.length;o++)e[o].classList.add(t);else e==null||e.classList.add(t)}function F(e,t){if(e instanceof NodeList)for(let o=0;o<e.length;o++)e[o].classList.remove(t);else e==null||e.classList.remove(t)}function x(e,t,o,r=!0){e!=null&&e.addEventListener&&e.addEventListener(t,o,r)}function ce(e,t,o,r=!0){e!=null&&e.removeEventListener&&e.removeEventListener(t,o,r)}function _e(e,t){var o;(o=t==null?void 0:t.parentNode)==null||o.insertBefore(e,t)}function ue(e){return e==null?void 0:e.previousElementSibling}function pe(e){return e==null?void 0:e.nextElementSibling}function I(e){return e==null?void 0:e.parentElement}function Ue(e){const t=document.createElement("div");for(let o=0,r=Object.keys(e),h=r.length;o<h;o++){const l=r[o],i=e[l];t.setAttribute(l,i)}return t}function de(){var e;(e=document.activeElement)==null||e.blur()}function qe(e){return v('[data-ui="#'+e+'"]')}function Ke(e){return R('[data-ui="#'+e+'"]')}function Xe(e){e.id&&S(e,"page")&&(e=Ke(e.id)??e);const t=I(e);if(!S(t,"tabs")&&!S(t,"tabbed")&&!E(t,"nav"))return;const o=v("a",t);for(let r=0;r<o.length;r++)F(o[r],"active");Z(e,"active")}function Be(e){e.placeholder||(e.placeholder=" ")}function Je(e){const t=e.currentTarget,o=I(t),r=R("input:not([type=file], [type=checkbox], [type=radio]), select, textarea",o);r&&r.focus()}function he(e){const t=e.currentTarget;W(t)}function fe(e){const t=e.currentTarget;W(t)}function Qe(e){const t=e.currentTarget;ge(t)}function et(e){const t=e.currentTarget;ye(t)}function tt(e){const t=e.currentTarget;ge(t,e)}function ot(e){const t=e.currentTarget;ye(t,e)}function nt(e){const t=e.currentTarget;Ee(t)}function rt(e){var t;const o=e.currentTarget,r=R("input",I(o));r&&(t=o.textContent)!=null&&t.includes("visibility")&&(r.type=r.type==="password"?"text":"password")}function it(){const e=v(".field > label");for(let t=0;t<e.length;t++)x(e[t],"click",Je)}function lt(){const e=v(".field > input:not([type=file], [type=color], [type=range])");for(let t=0;t<e.length;t++)x(e[t],"focus",he),x(e[t],"blur",fe),W(e[t])}function st(){const e=v(".field > select");for(let t=0;t<e.length;t++)x(e[t],"focus",he),x(e[t],"blur",fe)}function at(){const e=v(".field > input[type=file]");for(let t=0;t<e.length;t++)x(e[t],"change",Qe),ge(e[t])}function ct(){const e=v(".field > input[type=color]");for(let t=0;t<e.length;t++)x(e[t],"change",et),ye(e[t])}function ut(){const e=v(".field.textarea > textarea");for(let t=0;t<e.length;t++)x(e[t],"focus",he),x(e[t],"blur",fe),x(e[t],"input",nt),Ee(e[t])}function pt(){const e=v("input[type=password] ~ :is(i, a)");for(let t=0;t<e.length;t++)x(e[t],"click",rt)}function W(e){V(e,"number")&&!e.value&&(e.value=""),Be(e)}function ge(e,t){if((t==null?void 0:t.key)==="Enter"){const r=ue(e);if(!V(r,"file"))return;r.click();return}const o=pe(e);V(o,"text")&&(o.value=e.files?Array.from(e.files).map(r=>r.name).join(", "):"",o.readOnly=!0,x(o,"keydown",tt,!1),W(o))}function ye(e,t){if((t==null?void 0:t.key)==="Enter"){const r=ue(e);if(!V(r,"color"))return;r.click();return}const o=pe(e);V(o,"text")&&(o.readOnly=!0,o.value=e.value,x(o,"keydown",ot,!1),W(o))}function Ee(e){Be(e);const t=I(e);t.removeAttribute("style"),S(t,"min")&&t.style.setProperty("--_size",`${Math.min(192,Math.max(e.scrollHeight,t.offsetHeight))}px`)}function dt(){it(),lt(),st(),at(),ct(),ut(),pt()}function Te(e){const t=e.target;!E(t,"input")&&!E(t,"select")||(t.type==="range"?(t.focus(),Ze(t)):Le())}function ht(e){if(!J())return;const t=e.target,o=I(t);S(o,"vertical")&&document.body.classList.add("no-scroll")}function ft(e){if(!J())return;const t=e.target,o=I(t);S(o,"vertical")&&document.body.classList.remove("no-scroll")}function Le(){const e=document.body,t=v(".slider > input[type=range]");t.length?x(e,"input",Te,!1):ce(e,"input",Te,!1);for(let o=0;o<t.length;o++)Ze(t[o])}function gt(){const e=getComputedStyle(document.documentElement).getPropertyValue("--size")||"16px";return e.includes("%")?parseInt(e)*16/100:e.includes("em")?parseInt(e)*16:parseInt(e)}function Ze(e){x(e,"focus",ht),x(e,"blur",ft);const t=I(e),o=R("span",t),r=v("input",t);if(!r.length||!o)return;const h=gt(),l=S(t,"max")?0:.25*h*100/r[0].offsetWidth,i=[],f=[];for(let O=0,H=r.length;O<H;O++){const G=parseFloat(r[O].min)||0,Q=parseFloat(r[O].max)||100,Y=parseFloat(r[O].value)||0,M=(Y-G)*100/(Q-G),ee=l/2-l*M/100;i.push(M+ee),f.push(Y)}let s=i[0],w=0,j=100-w-s,B=f[0],z=f[1]||0;r.length>1&&(s=Math.abs(i[1]-i[0]),w=i[1]>i[0]?i[0]:i[1],j=100-w-s,z>B&&(B=f[1]||0,z=f[0])),t.style.setProperty("--_start",`${w}%`),t.style.setProperty("--_end",`${j}%`),t.style.setProperty("--_value1",`'${B}'`),t.style.setProperty("--_value2",`'${z}'`)}function yt(){Le()}const k={light:"",dark:""};function ae(){var e;return(e=document==null?void 0:document.body)!=null&&e.classList.contains("dark")?"dark":"light"}function xt(){if(k.light&&k.dark)return k;const e=document.body,t=document.createElement("body");t.className="light",e.appendChild(t);const o=document.createElement("body");o.className="dark",e.appendChild(o);const r=getComputedStyle(t),h=getComputedStyle(o),l=["--primary","--on-primary","--primary-container","--on-primary-container","--secondary","--on-secondary","--secondary-container","--on-secondary-container","--tertiary","--on-tertiary","--tertiary-container","--on-tertiary-container","--error","--on-error","--error-container","--on-error-container","--background","--on-background","--surface","--on-surface","--surface-variant","--on-surface-variant","--outline","--outline-variant","--shadow","--scrim","--inverse-surface","--inverse-on-surface","--inverse-primary","--surface-dim","--surface-bright","--surface-container-lowest","--surface-container-low","--surface-container","--surface-container-high","--surface-container-highest"];for(let i=0,f=l.length;i<f;i++)k.light+=l[i]+":"+r.getPropertyValue(l[i])+";",k.dark+=l[i]+":"+h.getPropertyValue(l[i])+";";return e.removeChild(t),e.removeChild(o),k}function mt(e){const t=globalThis,o=document.body;if(!e||!t.materialDynamicColors)return xt();const r=ae();return e.light&&e.dark?(k.light=e.light,k.dark=e.dark,o.setAttribute("style",e[r]),e):t.materialDynamicColors(e).then(h=>{const l=i=>{let f="";for(let s=0,w=Object.keys(i),j=w.length;s<j;s++){const B=w[s],z=i[B],O=B.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();f+="--"+O+":"+z+";"}return f};return k.light=l(h.light),k.dark=l(h.dark),o.setAttribute("style",k[r]),k})}function Re(e){const t=globalThis,o=document.body;if(!o)return e;if(!e)return ae();e==="auto"&&(e=Ge()?"dark":"light"),o.classList.remove("light","dark"),o.classList.add(e);const r=e==="light"?k.light:k.dark;return t.materialDynamicColors&&o.setAttribute("style",r),ae()}const X=[];function Ie(e){if(e.key==="Escape"){const t=e.currentTarget;Ne(t,t)}}function Tt(e){(R("[autofocus]",e)??e).focus()}function ze(e,t){F(qe(e.id),"active"),F(e,"active"),F(t,"active"),e.close(),X.pop();const o=X[X.length-1];o?o.focus():J()&&document.body.classList.remove("no-scroll")}async function bt(e,t,o,r){!E(r,"button")&&!S(r,"button")&&!S(r,"chip")&&Z(r,"active"),Z(t,"active"),Z(e,"active"),o?e.showModal():e.show(),await Oe(90),o||x(e,"keydown",Ie,!1),X.push(e),J()&&document.body.classList.add("no-scroll"),Tt(e)}function vt(e){const t=e.currentTarget,o=pe(t);E(o,"dialog")&&ze(o,t)}async function Ne(e,t){de();let o=ue(t);const r=S(t,"active")||t.open,h=S(t,"modal");h||ce(t,"keydown",Ie,!1),S(o,"overlay")||(o=Ue({class:"overlay"}),_e(o,t),await Oe(90)),h||x(o,"click",vt,!1),r?ze(t,o):bt(t,o,h,e)}let ne;function He(e){ce(document.body,"click",He);const t=e.target,o=v("menu.active");for(let r=0;r<o.length;r++)Me(t,o[r],e)}function wt(e){setTimeout(()=>{const t=R(".field > input",e);t?t.focus():e.focus()},90)}function Me(e,t,o){ne&&clearTimeout(ne),ne=setTimeout(()=>{x(document.body,"click",He),E(document.activeElement,"input")||de();const r=S(t,"active"),h=(o==null?void 0:o.target)===e,l=!!e.closest("menu");if(!r&&l||r&&h){F(t,"active");return}F(v("menu.active"),"active"),Z(t,"active"),wt(t)},90)}let $;function jt(e){const t=e.currentTarget;F(t,"active"),$&&clearTimeout($)}function St(e,t){de();const o=v(".snackbar.active");for(let r=0;r<o.length;r++)F(o[r],"active");Z(e,"active"),x(e,"click",jt),$&&clearTimeout($),t!==-1&&($=setTimeout(()=>{F(e,"active")},t??6e3))}function kt(e){const t=I(e);t&&F(v(":scope > .page",t),"active"),Z(e,"active")}function Ct(e){Ft(e)}function Ft(e){const t=e.currentTarget,o=t.getBoundingClientRect(),r=Math.max(o.width,o.height),h=r/2,l=e.clientX-o.left-h,i=e.clientY-o.top-h,f=document.createElement("div");f.className="ripple-js";const s=document.createElement("div");s.style.inlineSize=s.style.blockSize=`${r}px`,s.style.left=`${l}px`,s.style.top=`${i}px`,s.addEventListener("animationend",()=>{f.remove()}),f.appendChild(s),t.appendChild(f)}function Ot(){const e=v(".slow-ripple, .ripple, .fast-ripple");for(let t=0;t<e.length;t++)x(e[t],"pointerdown",Ct)}const D=globalThis;let re,ie;function be(){re&&clearTimeout(re),re=setTimeout(async()=>await Pe(),180)}async function xe(e,t,o,r){if(!(!t&&(t=R(e.getAttribute("data-ui")),!t))){if(Xe(e),E(t,"dialog")){await Ne(e,t);return}if(E(t,"menu")){Me(e,t,r);return}if(S(t,"snackbar")){St(t,o);return}if(S(t,"page")){kt(t);return}if(S(t,"active")){F(e,"active"),F(t,"active");return}Z(t,"active")}}function Bt(e){xe(e.currentTarget,null,null,e)}function Et(e){e.key==="Enter"&&xe(e.currentTarget,null,null,e)}function Ae(){D.ui||ie||!D.MutationObserver||(ie=new MutationObserver(be),ie.observe(document.body,{childList:!0,subtree:!0}),be())}function Lt(){const e=v("[data-ui]");for(let t=0,o=e.length;t<o;t++)x(e[t],"click",Bt),E(e[t],"a")&&!e[t].getAttribute("href")&&x(e[t],"keydown",Et)}function Pe(e,t){if(e){if(e==="setup"){Ae();return}if(e==="guid")return Ye();if(e==="mode")return Re(t);if(e==="theme")return mt(t);const o=R(e);if(!o)return;xe(o,o,t)}Lt(),dt(),yt(),Ot()}function Zt(){var e;if(D.ui)return;const t=(e=D.document)==null?void 0:e.body;t&&!t.classList.contains("dark")&&!t.classList.contains("light")&&Re("auto"),Ae(),D.ui=Pe}Zt();function ve(e){const t=!e.value||e.value==="";return n.jsxs("div",{className:"field label suffix border",children:[n.jsxs("select",{value:e.value,onChange:e.onChange,className:t?"placeholder-text":"selected-text",children:[n.jsx("option",{value:"",disabled:!0,children:e.placeholder||e.label}),n.jsx("option",{children:e.itemone}),n.jsx("option",{children:e.itemtwo}),n.jsx("option",{children:e.itemthree}),n.jsx("option",{children:e.itemfour})]}),n.jsx("label",{children:e.label}),n.jsx("i",{children:"arrow_drop_down"})]})}function A(e){return n.jsxs("div",{className:"field label border",children:[n.jsx("input",{type:"number",step:"any",value:e.value,onChange:e.onChange,disabled:e.disabled,placeholder:e.placeholder}),n.jsx("label",{children:e.label||"Value"})]})}function Rt(e){const t=e.text==="Use Institution Specific STEMI Protocol",o=n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:16},children:n.jsxs("button",{onClick:e.onClick,style:{...e.style,margin:0,...t&&{backgroundColor:"#ff0000",color:"white",border:"none",padding:"20px 24px",minHeight:"56px",borderRadius:"12px",cursor:"pointer",width:"100%",maxWidth:"320px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",fontSize:"1.2rem",fontWeight:"600",lineHeight:"1.2",boxSizing:"border-box",transition:"all 0.2s ease-in-out",animation:"stemiPulse 1.5s infinite"}},onMouseEnter:r=>{t&&(r.target.style.transform="translateY(-2px)",r.target.style.filter="brightness(1.05)")},onMouseLeave:r=>{t&&(r.target.style.transform="translateY(0)",r.target.style.filter="brightness(1)")},children:[n.jsx("i",{style:{color:t?"white":"inherit",fontSize:"1.2em"},children:e.image}),n.jsx("span",{style:{color:t?"white":"inherit"},children:e.text})]})});return e.toPage?n.jsx(ke,{to:e.toPage,children:o}):o}const we=({heartScore:e,heartScoreCalculated:t,heartScoreRef:o,onAction:r})=>{const h=Ce();let l="#7B2CBF",i="#f8f4ff",f="#E2B93B",s="Moderate Risk",w="⚠️";return e<4?(l="#219653",i="#219653",f="#219653",s="Low Risk",w="✓"):e>=4&&e<7?(l="#E2B93B",i="#E2B93B",f="#E2B93B",s="Moderate Risk",w="⚠️"):e>=7&&(l="#D7263D",i="#D7263D",f="#D7263D",s="High Risk",w="⚠️"),n.jsx("div",{className:"btn-container",ref:o,style:{justifyContent:"center"},children:t?n.jsxs("div",{style:{background:i,color:"#fff",borderRadius:16,fontSize:"2.2rem",fontWeight:700,padding:"24px 0 0 0",minHeight:"120px",width:"100%",maxWidth:"340px",boxShadow:`0 2px 12px ${l}22`,border:`2px solid ${l}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:8,transition:"all 0.2s ease-in-out",boxSizing:"border-box",overflow:"hidden",marginBottom:24},children:[n.jsx("span",{style:{fontSize:"2.8rem",fontWeight:800,lineHeight:1,color:"#fff"},children:e}),n.jsx("span",{style:{fontSize:"1.2rem",fontWeight:500,color:"#fff",marginTop:2,marginBottom:8},children:"HEART Score"}),n.jsxs("button",{className:"btn-standard",style:{background:f,color:"#fff",border:"2px solid #fff",borderRadius:"12px",padding:"16px 0",fontSize:"1.1rem",fontWeight:700,width:"92%",margin:"0 auto 16px auto",cursor:"pointer",boxShadow:"0 4px 18px 0 rgba(0,0,0,0.13)",display:"flex",alignItems:"center",justifyContent:"center",gap:10,transition:"all 0.2s",outline:"none"},onClick:r||(()=>{}),onMouseEnter:j=>{j.target.style.boxShadow="0 8px 24px 0 rgba(0,0,0,0.18)",j.target.style.filter="brightness(0.95)"},onMouseLeave:j=>{j.target.style.boxShadow="0 4px 18px 0 rgba(0,0,0,0.13)",j.target.style.filter="none"},children:[n.jsx("span",{style:{fontSize:"1.3em",animation:"iconBounce 1.5s infinite"},children:w}),s]})]}):n.jsxs("button",{className:"btn-standard",style:{background:"#1976d2",color:"#fff",boxShadow:"0 2px 12px rgba(25, 118, 210, 0.15)",animation:"heartPulse 1.5s infinite"},onClick:()=>h({to:"/heart-score"}),onMouseEnter:j=>{j.target.style.boxShadow="0 4px 16px rgba(25, 118, 210, 0.25)"},onMouseLeave:j=>{j.target.style.boxShadow="0 2px 12px rgba(25, 118, 210, 0.15)"},children:[n.jsx("span",{style:{fontSize:"1.2em",animation:"iconBounce 1.5s infinite"},children:"❤️"}),"Calculate HEART Score"]})})},It={opacity:1,transform:"translateY(0)",transition:"opacity 0.25s cubic-bezier(.4,0,.2,1), transform 0.25s cubic-bezier(.4,0,.2,1)"},zt={opacity:0,transform:"translateY(12px)",pointerEvents:"none",height:0},le=({children:e})=>{const[t,o]=L.useState(!1),{formData:r}=Fe();return L.useEffect(()=>{r.heartScoreCalculated?o(!0):setTimeout(()=>o(!0),10)},[r.heartScoreCalculated]),n.jsx("div",{style:t?It:zt,children:e})},$e=({risk:e="moderate",children:t,onClick:o,style:r={},...h})=>{const l=We[e];return n.jsx("div",{className:"btn-container",style:{width:"100%"},children:n.jsxs("button",{className:"btn-standard",style:{background:l.bg,color:l.text,border:"2px solid #fff",borderRadius:12,padding:"16px 0",fontSize:"1.1rem",fontWeight:700,width:"100%",margin:"0 auto",cursor:"pointer",boxShadow:l.shadow,display:"flex",alignItems:"center",justifyContent:"center",gap:10,transition:"all 0.2s",outline:"none",...r},onClick:o,onMouseEnter:i=>{i.target.style.boxShadow="0 8px 24px 0 rgba(0,0,0,0.18)",i.target.style.filter="brightness(0.95)"},onMouseLeave:i=>{i.target.style.boxShadow=l.shadow,i.target.style.filter="none"},...h,children:[n.jsx("span",{style:{fontSize:"1.3em",animation:"iconBounce 1.5s infinite",color:l.iconColor},children:l.icon}),t||(e==="low"?"Low Risk":e==="high"?"High Risk":"Moderate Risk")]})})},U=e=>n.jsx($e,{risk:"low",...e}),q=e=>n.jsx($e,{risk:"high",...e}),K={BeckmanCoulter:["4","5","4","50","15"],Roche:["5","12","3","52","5"],Abbott:["4","5","2","64","6"],Siemens:["3","6","3","120","12"],IT:["0.04","0.08","-","0.08","-"]},$t=Ve("/acute-one")({component:Nt}),P={opacity:1,transform:"translateY(0)",transition:"opacity 0.25s cubic-bezier(.4,0,.2,1), transform 0.25s cubic-bezier(.4,0,.2,1)"},se={opacity:0,transform:"translateY(12px)",pointerEvents:"none",height:0},je={opacity:1,transform:"translateY(0)",transition:"opacity 0.4s cubic-bezier(.4,0,.2,1), transform 0.4s cubic-bezier(.4,0,.2,1)",maxHeight:"1000px"},Se={opacity:0,transform:"translateY(16px)",transition:"opacity 0.3s cubic-bezier(.4,0,.2,1), transform 0.3s cubic-bezier(.4,0,.2,1)",maxHeight:"0px",overflow:"hidden",pointerEvents:"none"};function Nt(){const{formData:e,setFormData:t,resetFormData:o}=Fe(),[r,h]=L.useState({tropZero:null,tropOne:null,tropThree:null}),[l,i]=L.useState(null),[f,s]=L.useState(null),w=L.useRef(null),[j,B]=L.useState(!1),z=Ce();L.useEffect(()=>{e.heartScoreCalculated&&setTimeout(()=>{var a;(a=w.current)==null||a.scrollIntoView({behavior:"smooth",block:"center"})},100)},[e.heartScoreCalculated]);const O=a=>m=>{const u=m.target.value;/^\d*\.?\d{0,2}$/.test(u)&&(t(d=>({...d,[a]:u})),a==="duration"&&e.tropZero&&(i(null),s(null),setTimeout(()=>{if(e.tropType==="it"){const d=parseFloat(e.tropZero),c=parseFloat(u),p=.04;d<p&&c>3?(i(1),s("tropZero"),h(y=>({...y,tropZero:1}))):d<p&&h(y=>({...y,tropZero:1}))}else if(e.tropType==="hs"){const d=parseFloat(e.tropZero),c=parseFloat(u),p=K[e.tropTest];if(p){const y=parseFloat(p[0]);d<y&&c>3?(i(1),s("tropZero"),h(g=>({...g,tropZero:1}))):d<y&&h(g=>({...g,tropZero:1}))}}},0)))},H=a=>m=>{const u=m.target.value;if(/^\d*\.?\d{0,2}$/.test(u)){if(t(c=>({...c,[a]:u})),u.trim()===""){i(null),s(null),a==="tropZero"?h({tropZero:null,tropOne:null,tropThree:null}):a==="tropOne"?h(c=>({...c,tropOne:null,tropThree:null})):a==="tropThree"&&h(c=>({...c,tropThree:null}));return}let d=null;e.tropType==="it"?d=Q(a,u):e.tropType==="hs"&&(d=G(a,u)),d!==null&&h(c=>({...c,[a]:d}))}},G=(a,m)=>{const u=K[e.tropTest];console.log("Checking trop:",{field:a,trop:m,values:u,formData:e});const d=parseFloat(m);if(a==="tropZero"){const c=parseFloat(u[0]),p=parseFloat(u[3]);if(d<c)return parseFloat(e.duration)>3&&(console.log("Setting risk 1 for tropZero"),i(1),s("tropZero")),1;if(d>=c&&d<p)return console.log("Setting risk null for tropZero intermediate"),i(null),s(null),2;if(d>=p)return console.log("Setting risk 3 for tropZero"),i(3),s("tropZero"),3}else if(a==="tropOne"){const c=parseFloat(m),p=parseFloat(e.tropZero),y=c-p,g=parseFloat(u[2]),T=parseFloat(u[4]);console.log("=== ONE HOUR CALCULATION DEBUG ==="),console.log("tropValue:",c),console.log("initialValue (formData.tropZero):",p),console.log("delta:",y),console.log("deltaThreshold:",g),console.log("highDeltaThreshold:",T),console.log("values array:",u);const b=parseFloat(u[0]),N=parseFloat(u[3]);let C=null;return p<b?C=1:p>=b&&p<N?C=2:p>=N&&(C=3),console.log("Initial category calculated:",C),console.log("Delta < deltaThreshold?",y<g),y<g?C===1?(console.log("TRIGGERING LOW RISK for tropOne"),i(1),s("tropOne"),1):(console.log("Returning category 2 (intermediate) for tropOne"),i(null),s(null),2):y>=T?(console.log("TRIGGERING HIGH RISK for tropOne - delta exceeded threshold"),i(3),s("tropOne"),3):(console.log("Returning category 2 (intermediate) for tropOne - delta between thresholds"),i(null),s(null),2)}else if(a==="tropThree"){const c=parseFloat(m),p=parseFloat(e.tropZero),y=c-p,g=parseFloat(u[2]),T=parseFloat(u[4]),b=parseFloat(u[3]),N=parseFloat(u[0]);let C=null;return p<N?C=1:p>=N&&p<b?C=2:p>=b&&(C=3),y<g?C===1?(console.log("Setting risk 1 for tropThree"),i(1),s("tropThree"),1):(i(null),s(null),3):y>=T||c>=b?(console.log("Setting risk 3 for tropThree"),i(3),s("tropThree"),3):(console.log("Setting category 3 for tropThree intermediate case"),i(null),s(null),3)}},Q=(a,m)=>{const u=K.IT,d=parseFloat(m),c=parseFloat(u[0]),p=parseFloat(u[3]);if(d<c)return a==="tropZero"&&parseFloat(e.duration)>3?(i(1),s(a),1):(a==="tropThree"&&(i(1),s(a)),1);if(d>=c&&d<=p)return i(null),s(null),2;if(d>p)return i(3),s(a),3},Y=a=>{const m=a.target.value;m==="Option 4: STEMI"?(B(!0),setTimeout(()=>{t(u=>({...u,ecg:m,age:"",duration:"",tropTest:"",tropZero:"",tropType:"",tropOne:"",tropThree:""})),h({tropZero:null,tropOne:null,tropThree:null}),setTimeout(()=>{B(!1)},300)},300)):t(u=>({...u,ecg:m}))},M=a=>m=>{const u=m.target.value;a==="tropType"?(i(null),s(null),h({tropZero:null,tropOne:null,tropThree:null}),t(d=>({...d,[a]:u,tropTest:"",tropZero:"",tropOne:"",tropThree:""}))):a==="tropTest"?(t(d=>({...d,[a]:u})),i(null),s(null),h({tropZero:null,tropOne:null,tropThree:null}),setTimeout(()=>{const d=(c,p)=>{const y=K[u];console.log("Checking trop with new assay:",{field:c,tropValue:p,values:y,newAssay:u});const g=parseFloat(p);if(c==="tropZero"){const T=parseFloat(y[0]),b=parseFloat(y[3]);if(g<T)return parseFloat(e.duration)>3&&(console.log("Setting risk 1 for tropZero with new assay"),i(1),s("tropZero")),1;if(g>=T&&g<b)return console.log("Setting risk null for tropZero intermediate with new assay"),i(null),s(null),2;if(g>=b)return console.log("Setting risk 3 for tropZero with new assay"),i(3),s("tropZero"),3}else if(c==="tropOne"){const T=parseFloat(y[1]),b=parseFloat(y[4]),N=parseFloat(y[6]);if(g<T){const C=parseFloat(e.tropZero);return g-C<N?(console.log("Setting risk 1 for tropOne delta with new assay"),i(1),s(null),1):(console.log("Setting risk null for tropOne with new assay"),i(null),s(null),2)}else{if(g>=T&&g<b)return console.log("Setting risk null for tropOne intermediate with new assay"),i(null),s(null),2;if(g>=b)return console.log("Setting risk 3 for tropOne with new assay"),i(3),s("tropOne"),3}}else if(c==="tropThree"){const T=parseFloat(y[2]),b=parseFloat(y[5]);if(g<T)return console.log("Setting risk 1 for tropThree with new assay"),i(1),s("tropThree"),1;if(g>=T&&g<b)return console.log("Setting risk null for tropThree intermediate with new assay"),i(null),s(null),2;if(g>=b)return console.log("Setting risk 3 for tropThree with new assay"),i(3),s("tropThree"),3}return null};if(e.tropZero){const c=d("tropZero",e.tropZero);c!==null&&h(p=>({...p,tropZero:c}))}if(e.tropOne){const c=d("tropOne",e.tropOne);c!==null&&h(p=>({...p,tropOne:c}))}if(e.tropThree){const c=d("tropThree",e.tropThree);c!==null&&h(p=>({...p,tropThree:c}))}},0)):t(d=>({...d,[a]:u}))};function ee(a){var b;let m=0;a.history==="Low"?m=0:a.history==="Medium"?m=1:a.history==="High"&&(m=2);let u=0;a.ecg==="Option 1: Normal ECG"?u=0:a.ecg==="Option 2: Non-specific repolarization abnormalities"?u=1:a.ecg==="Option 3: ST segment depressions (not due to LBBB/LVH)"&&(u=2);let d=0;const c=parseInt(a.age);isNaN(c)||(c<45?d=0:c>=45&&c<=60?d=1:c>60&&(d=2));let p=0;const y=((b=a.riskFactors)==null?void 0:b.length)||0;y===0?p=0:y===1||y===2?p=1:y>=3&&(p=2);let g=0,T;return a.tropType==="hs"?(g=0,T="N/A"):(T=Math.max(parseFloat(a.tropZero)||0,parseFloat(a.tropThree)||0),T<.04?g=0:T>=.04&&T<=.08?g=1:T>.08&&(g=2)),m+u+d+p+g}const _=ee(e);let te;return _>=4&&_<7&&(te=()=>z({to:"/alt-test"})),n.jsx("div",{style:{minHeight:"100vh",background:"#fafbfc",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"32px 0"},children:n.jsxs("div",{style:{background:"#fff",maxWidth:420,width:"100%",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.07)",padding:32,margin:"0 8px"},children:[n.jsx("header",{className:"header",style:{marginBottom:32},children:n.jsx(ke,{to:"/",onClick:o,style:{display:"block",background:"#ede6ee",borderRadius:2,padding:"8px 16px",textDecoration:"none",color:"#111"},children:n.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:700,marginBottom:0,color:"#111"},children:"SCiPP Chest Pain Pathway"})})}),n.jsx(oe,{children:"ECG"}),n.jsx("div",{style:{marginBottom:24,marginTop:20},children:n.jsx(ve,{value:e.ecg,onChange:Y,itemone:"Option 1: Normal ECG",itemtwo:"Option 2: Non-specific repolarization abnormalities",itemthree:"Option 3: ST segment depressions (not due to LBBB/LVH)",itemfour:"Option 4: STEMI",label:n.jsx("span",{style:{color:"#222"},children:"Select ECG Result"}),placeholder:"Select ECG Result",style:{width:"100%",color:"#111"}})}),e.ecg==="Option 4: STEMI"?n.jsx("div",{style:{width:"100%",marginTop:24,display:"flex",justifyContent:"center"},children:n.jsx(Rt,{image:"warning",text:"Use Institution Specific STEMI Protocol",style:{backgroundColor:"#ff0000",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",width:"100%",minHeight:"48px",fontSize:"1.1rem",fontWeight:600,opacity:j?0:1,transition:"all 0.2s ease-in-out",animation:"pulse 0.7s infinite",boxShadow:"0 2px 12px rgba(255, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"}})}):n.jsxs(n.Fragment,{children:[n.jsx("hr",{style:{border:0,borderTop:"1.5px solid #e0e0e0",margin:"40px 0"}}),n.jsx(oe,{children:"Patient Info"}),n.jsx("div",{style:{marginBottom:32,marginTop:20},children:n.jsx(A,{value:e.age,onChange:O("age"),label:n.jsx("span",{style:{color:"#222"},children:"Patient Age (years)"})})}),n.jsx("div",{style:{marginBottom:32},children:n.jsx(A,{value:e.duration,onChange:O("duration"),label:n.jsx("span",{style:{color:"#222"},children:"Chest Pain Duration (hours)"})})}),n.jsx("hr",{style:{border:0,borderTop:"1.5px solid #e0e0e0",margin:"40px 0"}}),n.jsx(oe,{children:"Troponin Testing"}),e.ecg!=="Option 4: STEMI"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mcq-container",style:{marginBottom:32},children:[n.jsx("label",{style:{fontWeight:500,fontSize:"1rem",marginBottom:16,display:"block",color:"#222",paddingLeft:0},children:"Troponin Test Type"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},children:[n.jsxs("div",{onClick:()=>e.duration?M("tropType")({target:{value:"hs"}}):null,style:{padding:"16px 20px",border:`2px solid ${e.tropType==="hs"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:e.tropType==="hs"?"#f8f4ff":"#fff",cursor:e.duration?"pointer":"not-allowed",opacity:e.duration?1:.5,transition:"all 0.2s ease-in-out",display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:`2px solid ${e.tropType==="hs"?"#7B2CBF":"#ccc"}`,backgroundColor:e.tropType==="hs"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.tropType==="hs"&&n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#fff"}})}),n.jsx("span",{style:{color:e.tropType==="hs"?"#7B2CBF":"#222",fontWeight:e.tropType==="hs"?"bold":"normal",fontSize:"1rem"},children:"HS-Troponin (ng/L)"})]}),n.jsxs("div",{onClick:()=>e.duration?M("tropType")({target:{value:"it"}}):null,style:{padding:"16px 20px",border:`2px solid ${e.tropType==="it"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:e.tropType==="it"?"#f8f4ff":"#fff",cursor:e.duration?"pointer":"not-allowed",opacity:e.duration?1:.5,transition:"all 0.2s ease-in-out",display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:`2px solid ${e.tropType==="it"?"#7B2CBF":"#ccc"}`,backgroundColor:e.tropType==="it"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.tropType==="it"&&n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#fff"}})}),n.jsx("span",{style:{color:e.tropType==="it"?"#7B2CBF":"#222",fontWeight:e.tropType==="it"?"bold":"normal",fontSize:"1rem"},children:"Troponin I/T (ng/mL)"})]})]}),n.jsx("div",{style:!e.tropType&&!e.heartScoreCalculated&&!l?{...P,marginTop:12}:se,children:n.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",display:"flex",alignItems:"center",paddingLeft:4},children:[n.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Select a Troponin test type to continue…"]})})]}),n.jsx("div",{style:e.tropType==="hs"?je:Se,children:n.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[n.jsx(ve,{value:e.tropTest,onChange:M("tropTest"),itemone:"BeckmanCoulter",itemtwo:"Roche",itemthree:"Abbott",itemfour:"Siemens",label:n.jsx("span",{style:{color:"#222"},children:"Select Troponin Assay"}),style:{color:"#222",width:"100%"}}),n.jsx("div",{style:e.tropType==="hs"&&!e.tropTest&&!e.heartScoreCalculated&&!l?P:se,children:n.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:8,display:"flex",alignItems:"center",paddingLeft:4},children:[n.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Select a Troponin assay to continue…"]})})]})}),n.jsx("div",{style:e.tropType==="hs"&&e.tropTest||e.tropType==="it"?je:Se,children:n.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[n.jsx(A,{value:e.tropZero,onChange:H("tropZero"),disabled:!e.tropType,label:n.jsxs("span",{style:{color:"#222"},children:["Initial Troponin Level (",e.tropType==="hs"?"ng/L":"ng/mL",")"]})}),l===1&&f==="tropZero"&&parseFloat(e.tropZero)>=0&&n.jsx(U,{}),l===3&&f==="tropZero"&&parseFloat(e.tropZero)>=0&&n.jsx(q,{}),n.jsx("div",{style:e.tropType&&(e.tropType!=="hs"||e.tropTest)&&!e.tropZero&&!e.heartScoreCalculated&&!l?P:se,children:n.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[n.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}),e.tropZero&&(r.tropZero===1||r.tropZero===2||e.heartScoreCalculated)&&n.jsxs(n.Fragment,{children:[e.tropType==="hs"&&!(l&&f==="tropZero")?n.jsx(le,{children:n.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[n.jsx(A,{value:e.tropOne,onChange:H("tropOne"),label:n.jsx("span",{style:{color:"#222"},children:"Troponin at 1 Hour (ng/L)"})}),console.log("Render check for tropOne button:",{risk:l,riskSource:f,tropOne:e.tropOne,parseFloat:parseFloat(e.tropOne)}),l===1&&f==="tropOne"&&parseFloat(e.tropOne)>=0&&n.jsx(U,{}),l===3&&f==="tropOne"&&parseFloat(e.tropOne)>=0&&n.jsx(q,{}),!e.tropOne&&!e.heartScoreCalculated&&!l&&n.jsx("div",{style:P,children:n.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[n.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}):e.tropType==="it"&&(!l||f==="tropThree")&&!(l&&f==="tropZero")?n.jsx(le,{children:n.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[n.jsx(A,{value:e.tropThree,onChange:H("tropThree"),label:n.jsx("span",{style:{color:"#222"},children:"Troponin at 3 Hours (ng/mL)"})}),l===1&&f==="tropThree"&&parseFloat(e.tropThree)>=0&&n.jsx(U,{}),l===3&&f==="tropThree"&&parseFloat(e.tropThree)>=0&&n.jsx(q,{}),!e.tropThree&&!e.heartScoreCalculated&&!l&&n.jsx("div",{style:P,children:n.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[n.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}):null,e.tropType==="hs"&&e.tropOne&&!(l&&(f==="tropZero"||f==="tropOne"))&&(r.tropOne===2||e.heartScoreCalculated)?n.jsx(le,{children:n.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[n.jsx(A,{value:e.tropThree,onChange:H("tropThree"),label:n.jsx("span",{style:{color:"#222"},children:"Troponin at 3 Hours (ng/L)"})}),l===1&&f==="tropThree"&&parseFloat(e.tropThree)>=0&&n.jsx(U,{}),l===3&&f==="tropThree"&&parseFloat(e.tropThree)>=0&&n.jsx(q,{}),!e.tropThree&&!e.heartScoreCalculated&&!l&&n.jsx("div",{style:P,children:n.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[n.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Continue to HEART Score…"]})}),e.tropThree&&(r.tropThree===3||e.heartScoreCalculated)&&l===null&&n.jsx(we,{heartScore:_,heartScoreCalculated:e.heartScoreCalculated,heartScoreRef:w,onAction:te})]})}):e.tropType==="it"&&e.tropThree&&(r.tropThree===2||e.heartScoreCalculated)&&!l?n.jsx(we,{heartScore:_,heartScoreCalculated:e.heartScoreCalculated,heartScoreRef:w,onAction:te}):null]})]})]})]})})}const De=document.createElement("style");De.textContent=`
    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
        }
        70% {
            box-shadow: 0 0 0 10px rgba(255, 0, 0, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
        }
    }
`;document.head.appendChild(De);export{$t as Route};
